"use strict";(self.webpackChunkHRMS=self.webpackChunkHRMS||[]).push([[134],{6134:(su,M,f)=>{f.r(M),f.d(M,{default:()=>lu});var m=f(6814),s=f(846),_=f(8733),E=f(1818),J=f(2135),i=f(6223),b=f(8034),y=f(4414),e=f(5879),h=f(5123),I=f(7700);const V=function(r,u){return[r,u]};function $(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",32)(12,"a",33),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.viewEmployee(l))}),e._UZ(13,"i",34),e._uU(14," \u0639\u0631\u0636"),e.qZA(),e.TgZ(15,"a",35),e.ALo(16,"localize"),e._UZ(17,"i",36),e._uU(18," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(19,"button",37),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.deleteEmployee(l.id,l.first_name+" "+l.last_name))}),e._UZ(20,"i",38),e._uU(21," \u062d\u0630\u0641 "),e.qZA()()()}if(2&r){const o=u.$implicit,n=u.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE("",o.first_name," ",o.last_name,""),e.xp6(2),e.Oqu(o.department.name),e.xp6(2),e.Oqu(o.job_title),e.xp6(2),e.Oqu(o.phone),e.xp6(5),e.Q6J("routerLink",e.WLB(9,V,e.lcZ(16,7,"/dashboard/employees/add-employee"),o.id))}}function B(r,u){1&r&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let K=(()=>{class r{constructor(o,n,t,l){this.employeeService=o,this.router=n,this.localize=t,this.dialog=l,this.employees=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getListEmployees()}getListEmployees(o=1){this.loading=!0,this.employeeService.GetEmployeesList({page:o}).subscribe({next:n=>{this.employees=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddEmployee(){const o=this.localize.translateRoute("/dashboard/employees/add-employee");this.router.navigate([o])}deleteEmployee(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.employeeService.DeleteEmployee(o.toString()).subscribe({next:a=>{this.getListEmployees()},error:a=>{console.error("There was an error deleting the admin!",a)}})})}viewEmployee(o){if(o){const n=this.localize.translateRoute("/dashboard/employees/view-employee");this.router.navigate([n,o.id])}else console.error("No employee to view")}onPageChange(o){this.getListEmployees(o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(h.M),e.Y36(s.F0),e.Y36(_.An),e.Y36(I.uw))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-employees-list"]],standalone:!0,features:[e.jDz],decls:60,vars:11,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-4"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-4","text-center"],[1,"text-center","mb-0"],[1,"col-md-4","text-end"],["name","","id","",1,"px-4","py-3"],["value","10"],["value","20"],[1,"btn"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return t.navigateToAddEmployee()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641 \u062c\u062f\u064a\u062f "),e.qZA()(),e.TgZ(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return t.searchQuery=a}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641"),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062f\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.qZA(),e._UZ(39,"th"),e.qZA()(),e.TgZ(40,"tbody"),e.YNc(41,$,22,12,"tr",20),e.ALo(42,"filter"),e.YNc(43,B,3,0,"tr",21),e.ALo(44,"filter"),e.qZA()()()(),e.TgZ(45,"div",7)(46,"div",22)(47,"div",23)(48,"pagination",24),e.NdJ("pageChange",function(a){return t.onPageChange(a)}),e.qZA()(),e.TgZ(49,"div",25)(50,"p",26),e._uU(51,"\u0639\u0631\u0636 1 \u0625\u0644\u0649 10 \u0645\u0646 \u0623\u0635\u0644 60 \u0633\u062c\u0644\u0627\u064b"),e.qZA()(),e.TgZ(52,"div",27)(53,"select",28)(54,"option",29),e._uU(55,"10"),e.qZA(),e.TgZ(56,"option",30),e._uU(57,"20"),e.qZA()(),e.TgZ(58,"button",31),e._uU(59,"\u0639\u0631\u0636"),e.qZA()()()()()()()()),2&n&&(e.xp6(19),e.Q6J("ngModel",t.searchQuery),e.xp6(22),e.Q6J("ngForOf",e.xi3(42,5,t.employees,t.searchQuery)),e.xp6(2),e.Q6J("ngIf",0===e.xi3(44,8,t.employees,t.searchQuery).length&&!t.loading),e.xp6(5),e.Q6J("currentPage",t.currentPage)("totalPages",t.totalPages))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,E.Q,i.u5,i.YN,i.Kr,i.Fj,i.JJ,i.On,J.u,y.L],styles:[".get[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{color:#fff}"]})}return r})();var A=f(4286),q=f(9172);function G(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0623\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641"),e.qZA())}function H(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641"),e.qZA())}function X(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function W(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.first_name.errors?null:o.employeeForm.controls.first_name.errors.serverError[0]," ")}}function ee(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,X,2,0,"div",23),e.YNc(2,W,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.first_name.errors?null:o.employeeForm.controls.first_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.first_name.errors?null:o.employeeForm.controls.first_name.errors.serverError)}}function oe(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function re(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.last_name.errors?null:o.employeeForm.controls.last_name.errors.serverError[0]," ")}}function te(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,oe,2,0,"div",23),e.YNc(2,re,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.last_name.errors?null:o.employeeForm.controls.last_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.last_name.errors?null:o.employeeForm.controls.last_name.errors.serverError)}}function ne(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ue(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d "),e.qZA())}function ie(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.phone.errors?null:o.employeeForm.controls.phone.errors.serverError[0]," ")}}function le(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,ne,2,0,"div",23),e.YNc(2,ue,2,0,"div",23),e.YNc(3,ie,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.phone.errors?null:o.employeeForm.controls.phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.phone.errors?null:o.employeeForm.controls.phone.errors.invalidPhoneNumber),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.phone.errors?null:o.employeeForm.controls.phone.errors.serverError)}}function ae(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function se(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d "),e.qZA())}function ce(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.personal_email.errors?null:o.employeeForm.controls.personal_email.errors.serverError[0]," ")}}function de(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,ae,2,0,"div",23),e.YNc(2,se,2,0,"div",23),e.YNc(3,ce,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.personal_email.errors?null:o.employeeForm.controls.personal_email.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.personal_email.errors?null:o.employeeForm.controls.personal_email.errors.email),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.personal_email.errors?null:o.employeeForm.controls.personal_email.errors.serverError)}}function me(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function _e(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.email.errors?null:o.employeeForm.controls.email.errors.serverError[0]," ")}}function pe(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,me,2,0,"div",23),e.YNc(2,_e,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.email.errors?null:o.employeeForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.email.errors?null:o.employeeForm.controls.email.errors.serverError)}}function fe(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ve(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.job_title.errors?null:o.employeeForm.controls.job_title.errors.serverError[0]," ")}}function ge(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,fe,2,0,"div",23),e.YNc(2,ve,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.job_title.errors?null:o.employeeForm.controls.job_title.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.job_title.errors?null:o.employeeForm.controls.job_title.errors.serverError)}}function ye(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function he(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.date_of_birth.errors?null:o.employeeForm.controls.date_of_birth.errors.serverError[0]," ")}}function Ze(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,ye,2,0,"div",23),e.YNc(2,he,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.date_of_birth.errors?null:o.employeeForm.controls.date_of_birth.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.date_of_birth.errors?null:o.employeeForm.controls.date_of_birth.errors.serverError)}}function Ae(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function be(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.salary.errors?null:o.employeeForm.controls.salary.errors.serverError[0]," ")}}function Ie(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Ae,2,0,"div",23),e.YNc(2,be,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.salary.errors?null:o.employeeForm.controls.salary.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.salary.errors?null:o.employeeForm.controls.salary.errors.serverError)}}function qe(r,u){if(1&r&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function xe(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Te(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.currency_id.errors?null:o.employeeForm.controls.currency_id.errors.serverError[0]," ")}}function Fe(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,xe,2,0,"div",23),e.YNc(2,Te,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.currency_id.errors?null:o.employeeForm.controls.currency_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.currency_id.errors?null:o.employeeForm.controls.currency_id.errors.serverError)}}function Ce(r,u){if(1&r&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function Ue(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function we(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.country_id.errors?null:o.employeeForm.controls.country_id.errors.serverError[0]," ")}}function Ne(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Ue,2,0,"div",23),e.YNc(2,we,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.country_id.errors?null:o.employeeForm.controls.country_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.country_id.errors?null:o.employeeForm.controls.country_id.errors.serverError)}}function Ee(r,u){if(1&r&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function Je(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Qe(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.city_id.errors?null:o.employeeForm.controls.city_id.errors.serverError[0]," ")}}function Ye(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Je,2,0,"div",23),e.YNc(2,Qe,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.city_id.errors?null:o.employeeForm.controls.city_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.city_id.errors?null:o.employeeForm.controls.city_id.errors.serverError)}}function Re(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Se(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.office_id.errors?null:o.employeeForm.controls.office_id.errors.serverError[0]," ")}}function Le(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Re,2,0,"div",23),e.YNc(2,Se,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.office_id.errors?null:o.employeeForm.controls.office_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.office_id.errors?null:o.employeeForm.controls.office_id.errors.serverError)}}function Me(r,u){if(1&r&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function Pe(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ke(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.department_id.errors?null:o.employeeForm.controls.department_id.errors.serverError[0]," ")}}function De(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Pe,2,0,"div",23),e.YNc(2,ke,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.department_id.errors?null:o.employeeForm.controls.department_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.department_id.errors?null:o.employeeForm.controls.department_id.errors.serverError)}}function je(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Oe(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.job_description_id.errors?null:o.employeeForm.controls.job_description_id.errors.serverError[0]," ")}}function ze(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,je,2,0,"div",23),e.YNc(2,Oe,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.job_description_id.errors?null:o.employeeForm.controls.job_description_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.job_description_id.errors?null:o.employeeForm.controls.job_description_id.errors.serverError)}}function Ve(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function $e(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.shift_id.errors?null:o.employeeForm.controls.shift_id.errors.serverError[0]," ")}}function Be(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Ve,2,0,"div",23),e.YNc(2,$e,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.shift_id.errors?null:o.employeeForm.controls.shift_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.shift_id.errors?null:o.employeeForm.controls.shift_id.errors.serverError)}}function Ke(r,u){if(1&r&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function Ge(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function He(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.roles.errors?null:o.employeeForm.controls.roles.errors.serverError[0]," ")}}function Xe(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,Ge,2,0,"div",23),e.YNc(2,He,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.roles.errors?null:o.employeeForm.controls.roles.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.roles.errors?null:o.employeeForm.controls.roles.errors.serverError)}}function We(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function eo(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.finger_print_id.errors?null:o.employeeForm.controls.finger_print_id.errors.serverError[0]," ")}}function oo(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,We,2,0,"div",23),e.YNc(2,eo,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.finger_print_id.errors?null:o.employeeForm.controls.finger_print_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.finger_print_id.errors?null:o.employeeForm.controls.finger_print_id.errors.serverError)}}function ro(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function to(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.address.errors?null:o.employeeForm.controls.address.errors.serverError[0]," ")}}function no(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,ro,2,0,"div",23),e.YNc(2,to,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.address.errors?null:o.employeeForm.controls.address.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.address.errors?null:o.employeeForm.controls.address.errors.serverError)}}function uo(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function io(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.hire_date.errors?null:o.employeeForm.controls.hire_date.errors.serverError[0]," ")}}function lo(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,uo,2,0,"div",23),e.YNc(2,io,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.hire_date.errors?null:o.employeeForm.controls.hire_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.hire_date.errors?null:o.employeeForm.controls.hire_date.errors.serverError)}}function ao(r,u){1&r&&(e.TgZ(0,"div",76),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function so(r,u){if(1&r&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.employeeForm.controls.gender.errors?null:o.employeeForm.controls.gender.errors.serverError[0]," ")}}function co(r,u){if(1&r&&(e.TgZ(0,"div",76),e.YNc(1,ao,2,0,"div",23),e.YNc(2,so,2,1,"div",23),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.gender.errors?null:o.employeeForm.controls.gender.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.employeeForm.controls.gender.errors?null:o.employeeForm.controls.gender.errors.serverError)}}function mo(r,u){1&r&&(e.ynx(0),e.TgZ(1,"div",78)(2,"button",79),e._UZ(3,"i",80),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()(),e.BQk())}function _o(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",78)(1,"button",81),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.updateEmployee())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.employeeForm.valid)}}const po=function(r){return[r]};function fo(r){const u=r.value;return u?/^[0-9]{11}$/.test(u)?null:{invalidPhoneNumber:!0}:null}let P=(()=>{class r{constructor(o,n,t,l,a,c){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.dashboardService=c,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.employeeId="",this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.errorMessage="",this.employeeForm=new i.cw({first_name:new i.NI("",i.kI.required),last_name:new i.NI("",i.kI.required),phone:new i.NI("",[i.kI.required,fo]),personal_email:new i.NI("",[i.kI.required,i.kI.email]),email:new i.NI("",i.kI.required),date_of_birth:new i.NI("",i.kI.required),hire_date:new i.NI("",i.kI.required),salary:new i.NI(0,[i.kI.required,i.kI.min(0)]),currency_id:new i.NI("",i.kI.required),office_id:new i.NI("",i.kI.required),address:new i.NI("",i.kI.required),finger_print_id:new i.NI("",i.kI.required),parent_id:new i.NI(1),department_id:new i.NI("",i.kI.required),country_id:new i.NI("",i.kI.required),city_id:new i.NI("",i.kI.required),job_description_id:new i.NI("",i.kI.required),shift_id:new i.NI("",i.kI.required),roles:new i.NI("",i.kI.required),gender:new i.NI("1",i.kI.required),job_title:new i.NI("",i.kI.required)})}ngOnInit(){this.getCountries(),this.getDepartments(),this.getCurrencies(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.employeeId=n,this.isEditMode=!0,this.employeesService.GetEmployeeById(n).subscribe(t=>{t&&t.data&&this.setFormValues(t.data)}))})}getCountries(){this.dashboardService.getCountries().subscribe({next:o=>{o&&o.data&&(this.countries=o.data)},error:o=>{console.error(o)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:o=>{o&&o.data&&(this.departments=o.data)},error:o=>{console.error(o)}})}getCurrencies(){this.dashboardService.getCurrencies().subscribe({next:o=>{o&&o.data&&(this.currencies=o.data)},error:o=>{console.error(o)}})}onCountryChange(o){this.dashboardService.getCityByCountry(o.target.value).subscribe({next:l=>{l&&l.data&&l.data.cities&&(this.cities=l.data.cities)},error:l=>{console.error(l)}})}setFormValues(o){this.employeeForm.patchValue({first_name:o.first_name,last_name:o.last_name,phone:o.phone,personal_email:o.personal_email,email:o.personal_email,date_of_birth:o.date_of_birth,hire_date:o.hire_date,salary:o.salary,currency_id:o.currency.id,office_id:o.office.id,address:o.address,finger_print_id:o.finger_print_id,parent_id:o.parent_id,department_id:o.department.id,country_id:o.country.id,city_id:o.city.id,job_description_id:o.job_description.id,shift_id:o.shift?o.shift.id:"",gender:o.gender,job_title:o.job_title,roles:o.roles?.length>0?o.roles[0]:""}),this.setRoles(o.roles)}setRoles(o){o?.length>0&&this.employeeForm.get("roles")?.setValue(o[0])}updateEmployee(){if(this.employeeForm.valid){const o={...this.employeeForm.value,roles:[this.employeeForm.get("roles")?.value],employee_id:this.employeeId,status:"Active",_method:"PATCH"};this.employeesService.UpdateEmployee(this.employeeId,o).subscribe({next:n=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update employee:",n)}})}else this.employeeForm.markAllAsTouched()}onSubmit(){if(this.employeeForm.valid){const o={...this.employeeForm.value,roles:[this.employeeForm.get("roles")?.value]};this.employeesService.AddEmployee(o).subscribe({next:n=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add employee. Please try again.",console.error("Failed to add employee:",n))}})}else this.employeeForm.markAllAsTouched()}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.employeeForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToEmployeesList(){const o=this.localize.translateRoute("/dashboard/employees");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(q.K))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-employee"]],standalone:!0,features:[e.jDz],decls:159,vars:35,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-12","mb-4"],["for","profileImg",1,"form-label","me-3"],["src","../../../../../../../assets/images/Profile-Photo.png","alt",""],["type","file","name","image","id","profileImg","hidden",""],["for","profileImg",1,"form-label"],[1,"form-group","col-md-6","mb-3"],["for","first_name",1,"form-label"],["formControlName","first_name","type","text","name","first_name","id","first_name",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","last_name",1,"form-label"],["formControlName","last_name","type","text","name","last_name","id","last_name",1,"form-control","form-control-lg"],["for","phone",1,"form-label"],["type","text","name","phone","formControlName","phone","id","phone",1,"form-control","form-control-lg"],["for","personal_email",1,"form-label"],[1,"input-group","input-group-lg"],["for","personal_email","id","basic-addon1",1,"input-group-text"],["id","personal_email","name","personal_email","type","email","formControlName","personal_email","placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","email",1,"form-label"],["for","email","id","basic-addon1",1,"input-group-text"],["id","email","name","email","type","email","formControlName","email","placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["for","job_title",1,"form-label"],["formControlName","job_title","type","text","name","job_title","id","job_title",1,"form-control","form-control-lg"],["for","date_of_birth",1,"form-label"],["type","date","formControlName","date_of_birth","name","date_of_birth","id","date_of_birth",1,"form-control","form-control-lg"],["for","date_of_birth",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["for","salary",1,"form-label"],["type","number","name","salary","formControlName","salary","id","salary",1,"form-control","form-control-lg"],["for","currency_id",1,"form-label"],["name","currency_id","id","currency_id","formControlName","currency_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","country_id",1,"form-label"],["name","country_id","id","country_id","formControlName","country_id",1,"form-select","form-select-lg",3,"change"],["for","city_id",1,"form-label"],["name","city_id","id","city_id","formControlName","city_id",1,"form-select","form-select-lg"],["for","office_id",1,"form-label"],["name","office_id","id","office_id","formControlName","office_id",1,"form-select","form-select-lg"],["value","1"],["for","department_id",1,"form-label"],["name","department_id","id","department_id","formControlName","department_id",1,"form-select","form-select-lg"],["for","job_description_id",1,"form-label"],["name","job_description_id","id","job_description_id","formControlName","job_description_id",1,"form-select","form-select-lg"],["for","shift_id",1,"form-label"],["name","shift_id","id","shift_id","formControlName","shift_id",1,"form-select","form-select-lg"],["for","roles",1,"form-label"],["name","roles","id","roles","formControlName","roles",1,"form-select","form-select-lg"],["for","finger_print_id",1,"form-label"],["type","text","name","finger_print_id","formControlName","finger_print_id","id","finger_print_id",1,"form-control","form-control-lg"],["for","address",1,"form-label"],["type","text","name","address","formControlName","address","id","address",1,"form-control","form-control-lg"],["for","hire_date",1,"form-label"],["type","date","name","hire_date","formControlName","hire_date","id","hire_date",1,"form-control","form-control-lg"],["for","hire_date",1,"input-group-text"],[1,"form-group","col-12","mb-3"],[1,"form-label"],["type","radio","name","gender","formControlName","gender","id","male","value","1","hidden",""],["for","male",1,"me-2"],["type","radio","name","gender","formControlName","gender","id","female","value","0","hidden",""],["for","female",1,"me-2"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],[3,"value"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,G,2,0,"h5",12),e.YNc(19,H,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._UZ(24,"img",17),e.qZA(),e._UZ(25,"input",18),e.TgZ(26,"label",19),e._uU(27,"\u0623\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA()(),e.TgZ(28,"div",20)(29,"label",21),e._uU(30,"\u0627\u0644\u0623\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),e.qZA(),e._UZ(31,"input",22),e.YNc(32,ee,3,2,"div",23),e.qZA(),e.TgZ(33,"div",20)(34,"label",24),e._uU(35,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"),e.qZA(),e._UZ(36,"input",25),e.YNc(37,te,3,2,"div",23),e.qZA(),e.TgZ(38,"div",20)(39,"label",26),e._uU(40,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.qZA(),e._UZ(41,"input",27),e.YNc(42,le,4,3,"div",23),e.qZA(),e.TgZ(43,"div",20)(44,"label",28),e._uU(45,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0627\u0644\u0634\u062e\u0635\u064a"),e.qZA(),e.TgZ(46,"div",29)(47,"label",30),e._uU(48,"@"),e.qZA(),e._UZ(49,"input",31),e.qZA(),e.YNc(50,de,4,3,"div",23),e.qZA(),e.TgZ(51,"div",20)(52,"label",32),e._uU(53,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),e.qZA(),e.TgZ(54,"div",29)(55,"label",33),e._uU(56,"@"),e.qZA(),e._UZ(57,"input",34),e.qZA(),e.YNc(58,pe,3,2,"div",23),e.qZA(),e.TgZ(59,"div",20)(60,"label",35),e._uU(61,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),e.qZA(),e._UZ(62,"input",36),e.YNc(63,ge,3,2,"div",23),e.qZA(),e.TgZ(64,"div",20)(65,"label",37),e._uU(66,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),e.qZA(),e.TgZ(67,"div",29),e._UZ(68,"input",38),e.TgZ(69,"label",39),e._UZ(70,"i",40),e.qZA()(),e.YNc(71,Ze,3,2,"div",23),e.qZA(),e.TgZ(72,"div",20)(73,"label",41),e._uU(74,"\u0627\u0644\u0645\u0631\u062a\u0628"),e.qZA(),e._UZ(75,"input",42),e.YNc(76,Ie,3,2,"div",23),e.qZA(),e.TgZ(77,"div",20)(78,"label",43),e._uU(79,"\u0627\u0644\u0639\u0645\u0644\u0629"),e.qZA(),e.TgZ(80,"select",44),e.YNc(81,qe,2,2,"option",45),e.qZA(),e.YNc(82,Fe,3,2,"div",23),e.qZA(),e.TgZ(83,"div",20)(84,"label",46),e._uU(85,"\u0627\u0644\u062f\u0648\u0644\u0629"),e.qZA(),e.TgZ(86,"select",47),e.NdJ("change",function(a){return t.onCountryChange(a)}),e.YNc(87,Ce,2,2,"option",45),e.qZA(),e.YNc(88,Ne,3,2,"div",23),e.qZA(),e.TgZ(89,"div",20)(90,"label",48),e._uU(91,"\u0627\u0644\u0645\u062f\u064a\u0646\u0629"),e.qZA(),e.TgZ(92,"select",49),e.YNc(93,Ee,2,2,"option",45),e.qZA(),e.YNc(94,Ye,3,2,"div",23),e.qZA(),e.TgZ(95,"div",20)(96,"label",50),e._uU(97,"\u0627\u0644\u0645\u0643\u062a\u0628"),e.qZA(),e.TgZ(98,"select",51)(99,"option",52),e._uU(100,"Al Haram"),e.qZA()(),e.YNc(101,Le,3,2,"div",23),e.qZA(),e.TgZ(102,"div",20)(103,"label",53),e._uU(104,"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062a\u0627\u0628\u0639 \u0644\u0647"),e.qZA(),e.TgZ(105,"select",54),e.YNc(106,Me,2,2,"option",45),e.qZA(),e.YNc(107,De,3,2,"div",23),e.qZA(),e.TgZ(108,"div",20)(109,"label",55),e._uU(110,"\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e.TgZ(111,"select",56)(112,"option",52),e._uU(113,"Senior"),e.qZA()(),e.YNc(114,ze,3,2,"div",23),e.qZA(),e.TgZ(115,"div",20)(116,"label",57),e._uU(117,"\u0627\u0644\u0648\u0631\u062f\u064a\u0629"),e.qZA(),e.TgZ(118,"select",58)(119,"option",52),e._uU(120,"Shift One"),e.qZA()(),e.YNc(121,Be,3,2,"div",23),e.qZA(),e.TgZ(122,"div",20)(123,"label",59),e._uU(124,"\u062f\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(125,"select",60),e.YNc(126,Ke,2,2,"option",45),e.qZA(),e.YNc(127,Xe,3,2,"div",23),e.qZA(),e.TgZ(128,"div",20)(129,"label",61),e._uU(130,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0635\u0645\u0629"),e.qZA(),e._UZ(131,"input",62),e.YNc(132,oo,3,2,"div",23),e.qZA(),e.TgZ(133,"div",20)(134,"label",63),e._uU(135,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e._UZ(136,"input",64),e.YNc(137,no,3,2,"div",23),e.qZA(),e.TgZ(138,"div",20)(139,"label",65),e._uU(140,"\u0645\u0648\u0639\u062f \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),e.qZA(),e.TgZ(141,"div",29),e._UZ(142,"input",66),e.TgZ(143,"label",67),e._UZ(144,"i",40),e.qZA()(),e.YNc(145,lo,3,2,"div",23),e.qZA(),e.TgZ(146,"div",68)(147,"p",69),e._uU(148,"\u0627\u0644\u0646\u0648\u0639"),e.qZA(),e._UZ(149,"input",70),e.TgZ(150,"label",71),e._uU(151,"\u0630\u0643\u0631"),e.qZA(),e._UZ(152,"input",72),e.TgZ(153,"label",73),e._uU(154,"\u0627\u0646\u062b\u0649"),e.qZA(),e.YNc(155,co,3,2,"div",23),e.qZA(),e.YNc(156,mo,5,0,"ng-container",74),e.YNc(157,_o,3,1,"ng-template",null,75,e.W1O),e.qZA()()()()()()()),2&n){const l=e.MAs(158);e.xp6(10),e.Q6J("routerLink",e.VKq(33,po,e.lcZ(11,31,"/dashboard/employees"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.employeeForm),e.xp6(12),e.Q6J("ngIf",t.employeeForm.controls.first_name.invalid&&(t.employeeForm.controls.first_name.dirty||t.employeeForm.controls.first_name.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.last_name.invalid&&(t.employeeForm.controls.last_name.dirty||t.employeeForm.controls.last_name.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.phone.invalid&&(t.employeeForm.controls.phone.dirty||t.employeeForm.controls.phone.touched)),e.xp6(8),e.Q6J("ngIf",t.employeeForm.controls.personal_email.invalid&&(t.employeeForm.controls.personal_email.dirty||t.employeeForm.controls.personal_email.touched)),e.xp6(8),e.Q6J("ngIf",t.employeeForm.controls.email.invalid&&(t.employeeForm.controls.email.dirty||t.employeeForm.controls.email.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.job_title.invalid&&(t.employeeForm.controls.job_title.dirty||t.employeeForm.controls.job_title.touched)),e.xp6(8),e.Q6J("ngIf",t.employeeForm.controls.date_of_birth.invalid&&(t.employeeForm.controls.date_of_birth.dirty||t.employeeForm.controls.date_of_birth.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.salary.invalid&&(t.employeeForm.controls.salary.dirty||t.employeeForm.controls.salary.touched)),e.xp6(5),e.Q6J("ngForOf",t.currencies),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.currency_id.invalid&&(t.employeeForm.controls.currency_id.dirty||t.employeeForm.controls.currency_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.countries),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.country_id.invalid&&(t.employeeForm.controls.country_id.dirty||t.employeeForm.controls.country_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.cities),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.city_id.invalid&&(t.employeeForm.controls.city_id.dirty||t.employeeForm.controls.city_id.touched)),e.xp6(7),e.Q6J("ngIf",t.employeeForm.controls.office_id.invalid&&(t.employeeForm.controls.office_id.dirty||t.employeeForm.controls.office_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.departments),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.department_id.invalid&&(t.employeeForm.controls.department_id.dirty||t.employeeForm.controls.department_id.touched)),e.xp6(7),e.Q6J("ngIf",t.employeeForm.controls.job_description_id.invalid&&(t.employeeForm.controls.job_description_id.dirty||t.employeeForm.controls.job_description_id.touched)),e.xp6(7),e.Q6J("ngIf",t.employeeForm.controls.shift_id.invalid&&(t.employeeForm.controls.shift_id.dirty||t.employeeForm.controls.shift_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.roles.invalid&&(t.employeeForm.controls.roles.dirty||t.employeeForm.controls.roles.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.finger_print_id.invalid&&(t.employeeForm.controls.finger_print_id.dirty||t.employeeForm.controls.finger_print_id.touched)),e.xp6(5),e.Q6J("ngIf",t.employeeForm.controls.address.invalid&&(t.employeeForm.controls.address.dirty||t.employeeForm.controls.address.touched)),e.xp6(8),e.Q6J("ngIf",t.employeeForm.controls.hire_date.invalid&&(t.employeeForm.controls.hire_date.dirty||t.employeeForm.controls.hire_date.touched)),e.xp6(10),e.Q6J("ngIf",t.employeeForm.controls.gender.invalid&&(t.employeeForm.controls.gender.dirty||t.employeeForm.controls.gender.touched)),e.xp6(1),e.Q6J("ngIf",!t.isEditMode)("ngIfElse",l)}},dependencies:[m.ez,m.sg,m.O5,i.u5,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i._,i.JJ,i.JL,i.UX,i.sg,i.u,_.fQ,_.lO,s.Bz,s.rH,y.L],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return r})(),vo=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-main-employee"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"router-outlet")},dependencies:[m.ez,s.lC]})}return r})();var g=f(9862),v=f(553);let Y=(()=>{class r{constructor(o){this.http=o,this.socialInsurancesListUrl=`${v.N.url}employee/social/insurance`,this.createSocialInsuranceUrl=`${v.N.url}employee/social/insurance`,this.updateSocialInsuranceUrl=`${v.N.url}employee/social/insurance/`,this.deleteSocialInsuranceUrl=`${v.N.url}employee/social/insurance`,this.getSocialInsuranceUrl=`${v.N.url}employee/social/insurance/`}getAllSocialInsurances(o){let n=new g.LE;return o&&Object.keys(o).forEach(t=>{n=n.append(t,o[t])}),this.http.get(this.socialInsurancesListUrl,{params:n})}createSocialInsurance(o,n){let t=new g.LE;return n&&Object.keys(n).forEach(l=>{t=t.append(l,n[l])}),this.http.post(this.createSocialInsuranceUrl,o,{params:t,headers:{"Content-Type":"application/json"}})}getSocialInsuranceById(o){return this.http.get(`${this.getSocialInsuranceUrl}${o}`)}updateSocialInsurance(o,n,t){const l=`${this.updateSocialInsuranceUrl}${o}`;let a=new g.LE;t&&Object.keys(t).forEach(d=>{a=a.append(d,t[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&c.append(d,p.toString())}),this.http.post(l,c,{params:a})}deleteSocialInsurance(o){return this.http.delete(`${this.deleteSocialInsuranceUrl}/${o}`)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(g.eN))};static#o=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const R=function(r,u){return[r,u]};function go(r,u){if(1&r&&(e.TgZ(0,"div",25)(1,"div",86)(2,"label",101),e._uU(3,"\u0627\u0644\u0623\u0633\u0645"),e.qZA(),e._UZ(4,"input",102),e.qZA(),e.TgZ(5,"div",86)(6,"label",103),e._uU(7,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.qZA(),e._UZ(8,"input",104),e.qZA(),e.TgZ(9,"div",86)(10,"label",105),e._uU(11,"\u0635\u0644\u0629 \u0627\u0644\u0642\u0631\u0627\u0628\u0629"),e.qZA(),e._UZ(12,"input",106),e.qZA(),e.TgZ(13,"div",107)(14,"a",108),e.ALo(15,"localize"),e._uU(16,"\u062a\u0639\u062f\u064a\u0644"),e.qZA()()()),2&r){const o=u.$implicit;e.xp6(4),e.Q6J("value",o.name),e.xp6(4),e.Q6J("value",o.phone),e.xp6(4),e.Q6J("value",o.relationship),e.xp6(2),e.Q6J("routerLink",e.WLB(6,R,e.lcZ(15,4,""),o.id))}}function yo(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,go,17,9,"div",100),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.familyInfo)}}function ho(r,u){1&r&&(e.TgZ(0,"div",109)(1,"h2"),e._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0627\u0626\u0644\u064a\u0629 \u0628\u0639\u062f"),e.qZA()())}function Zo(r,u){if(1&r&&(e.TgZ(0,"div")(1,"div",25)(2,"div",86)(3,"label",110),e._uU(4,"\u0627\u0644\u062f\u064a\u0627\u0646\u0629"),e.qZA(),e._UZ(5,"input",111),e.qZA(),e.TgZ(6,"div",86)(7,"label",112),e._uU(8,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0642\u0648\u0645\u064a"),e.qZA(),e._UZ(9,"input",113),e.qZA(),e.TgZ(10,"div",86)(11,"label",114),e._uU(12,"\u0627\u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a\u0629"),e.qZA(),e._UZ(13,"input",115),e.qZA(),e.TgZ(14,"div",86)(15,"label",116),e._uU(16,"\u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u062c\u0646\u064a\u062f"),e.qZA(),e._UZ(17,"input",117),e.qZA(),e.TgZ(18,"div",86)(19,"label",118),e._uU(20,"\u0639\u062f\u062f \u0627\u0644\u0623\u0637\u0641\u0627\u0644"),e.qZA(),e._UZ(21,"input",119),e.qZA(),e.TgZ(22,"div",107)(23,"a",108),e.ALo(24,"localize"),e._uU(25,"\u062a\u0639\u062f\u064a\u0644"),e.qZA()()()()),2&r){const o=e.oxw(2);e.xp6(5),e.Q6J("value",o.personalInfo.religion),e.xp6(4),e.Q6J("value",o.personalInfo.id_number),e.xp6(4),e.Q6J("value",o.personalInfo.marital_status),e.xp6(4),e.Q6J("value",o.personalInfo.military_status),e.xp6(4),e.Q6J("value",o.personalInfo.no_of_children),e.xp6(2),e.Q6J("routerLink",e.WLB(8,R,e.lcZ(24,6,""),o.personalInfo.id))}}function Ao(r,u){1&r&&(e.TgZ(0,"div",109)(1,"h2"),e._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062e\u0635\u064a\u0629 \u0628\u0639\u062f"),e.qZA()())}function bo(r,u){if(1&r&&(e.TgZ(0,"div",25)(1,"div",86)(2,"label",120),e._uU(3,"\u0646\u0648\u0639 \u0627\u0644\u062d\u0633\u0627\u0628"),e.qZA(),e._UZ(4,"input",121),e.qZA(),e.TgZ(5,"div",86)(6,"label",122),e._uU(7,"\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643"),e.qZA(),e._UZ(8,"input",123),e.qZA(),e.TgZ(9,"div",86)(10,"label",124),e._uU(11,"\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628"),e.qZA(),e._UZ(12,"input",125),e.qZA(),e.TgZ(13,"div",86)(14,"label",126),e._uU(15,"\u0631\u0642\u0645 \u0627\u0644\u0640IBAN"),e.qZA(),e._UZ(16,"input",127),e.qZA(),e.TgZ(17,"div",86)(18,"label",128),e._uU(19,"\u0627\u0633\u0645 \u0635\u0627\u062d\u0628 \u0627\u0644\u062d\u0633\u0627\u0628"),e.qZA(),e._UZ(20,"input",129),e.qZA(),e.TgZ(21,"div",86)(22,"label",130),e._uU(23,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0642\u0648\u0645\u064a"),e.qZA(),e._UZ(24,"input",131),e.qZA(),e.TgZ(25,"div",107)(26,"a",108),e.ALo(27,"localize"),e._uU(28,"\u062a\u0639\u062f\u064a\u0644"),e.qZA()()()),2&r){const o=u.$implicit;e.xp6(4),e.Q6J("value",o.type),e.xp6(4),e.Q6J("value",o.bank_name),e.xp6(4),e.Q6J("value",o.account_number),e.xp6(4),e.Q6J("value",o.IBAN),e.xp6(4),e.Q6J("value",o.account_holder_name),e.xp6(4),e.Q6J("value",o.id_number),e.xp6(2),e.Q6J("routerLink",e.WLB(9,R,e.lcZ(27,7,""),o.id))}}function Io(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,bo,29,12,"div",100),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.bankInfo)}}function qo(r,u){1&r&&(e.TgZ(0,"div",109)(1,"h2"),e._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0628\u0646\u0643\u064a\u0629 \u0628\u0639\u062f"),e.qZA()())}const xo=function(r){return["/dashboard/employees/add-employee",r]};function To(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"ul",13)(5,"li",14)(6,"button",15),e._UZ(7,"i",16),e._uU(8," \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629 "),e.qZA()(),e.TgZ(9,"li",14)(10,"button",17),e._UZ(11,"i",18),e._uU(12," \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),e.qZA()(),e.TgZ(13,"li",14)(14,"button",19),e._UZ(15,"i",20),e._uU(16," \u0648\u0631\u062f\u064a\u0629 \u0627\u0644\u0639\u0645\u0644 "),e.qZA()(),e.TgZ(17,"li",14)(18,"button",21),e._UZ(19,"i",20),e._uU(20," \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0627\u0626\u0644\u064a\u0629 "),e.qZA()(),e.TgZ(21,"li",14)(22,"button",22),e._UZ(23,"i",20),e._uU(24," \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062e\u0635\u064a\u0629 "),e.qZA()(),e.TgZ(25,"li",14)(26,"button",23),e._UZ(27,"i",20),e._uU(28," \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0628\u0646\u0643 "),e.qZA()()()(),e.TgZ(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27)(33,"div",28)(34,"div",25)(35,"div",29),e._UZ(36,"img",30),e.qZA(),e.TgZ(37,"div",31)(38,"h2",32),e._uU(39),e.qZA(),e.TgZ(40,"p",33),e._uU(41),e.qZA()()()()()(),e.TgZ(42,"div",34)(43,"a",35),e.ALo(44,"localize"),e._UZ(45,"i",36),e._uU(46," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(47,"button",37),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.deleteEmployee(t.employee.id,t.employee.first_name+" "+t.employee.last_name))}),e._UZ(48,"i",38),e._uU(49," \u062d\u0630\u0641 "),e.qZA()()()(),e.TgZ(50,"div",28)(51,"div",39)(52,"div",40)(53,"div",25)(54,"div",41)(55,"label",42),e._uU(56,"\u0627\u0644\u0623\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),e.qZA(),e._UZ(57,"input",43),e.qZA(),e.TgZ(58,"div",41)(59,"label",44),e._uU(60," \u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629 "),e.qZA(),e._UZ(61,"input",45),e.qZA(),e.TgZ(62,"div",41)(63,"label",46),e._uU(64," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "),e.qZA(),e._UZ(65,"input",47),e.qZA(),e.TgZ(66,"div",41)(67,"label",48),e._uU(68,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),e.qZA(),e.TgZ(69,"div",49)(70,"label",50),e._uU(71,"@"),e.qZA(),e._UZ(72,"input",51),e.qZA()(),e.TgZ(73,"div",41)(74,"label",52),e._uU(75,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),e.qZA(),e.TgZ(76,"div",49),e._UZ(77,"input",53),e.TgZ(78,"label",54),e._UZ(79,"i",55),e.qZA()()(),e.TgZ(80,"div",41)(81,"label",56),e._uU(82,"\u0627\u0644\u0645\u0631\u062a\u0628"),e.qZA(),e._UZ(83,"input",57),e.qZA(),e.TgZ(84,"div",41)(85,"label",58),e._uU(86,"\u0627\u0644\u0639\u0645\u0644\u0629"),e.qZA(),e._UZ(87,"input",59),e.qZA(),e.TgZ(88,"div",41)(89,"label",60),e._uU(90,"\u0627\u0644\u062f\u0648\u0644\u0629"),e.qZA(),e._UZ(91,"input",61),e.qZA(),e.TgZ(92,"div",41)(93,"label",62),e._uU(94,"\u0627\u0644\u0645\u062f\u064a\u0646\u0629"),e.qZA(),e._UZ(95,"input",63),e.qZA(),e.TgZ(96,"div",41)(97,"label",64),e._uU(98,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e._UZ(99,"input",65),e.qZA(),e.TgZ(100,"div",41)(101,"label",66),e._uU(102,"\u0645\u0648\u0639\u062f \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),e.qZA(),e.TgZ(103,"div",49),e._UZ(104,"input",67),e.TgZ(105,"label",68),e._UZ(106,"i",55),e.qZA()()(),e.TgZ(107,"div",41)(108,"label",69),e._uU(109,"\u0627\u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e._UZ(110,"input",70),e.qZA(),e.TgZ(111,"div",41)(112,"label",71),e._uU(113,"\u0627\u0644\u0645\u0633\u0645\u064a \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),e.qZA(),e._UZ(114,"input",72),e.qZA(),e.TgZ(115,"div",41)(116,"label",73),e._uU(117,"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062a\u0627\u0628\u0639 \u0644\u0647"),e.qZA(),e._UZ(118,"input",74),e.qZA(),e.TgZ(119,"div",41)(120,"label",75),e._uU(121,"\u0627\u0644\u0645\u0643\u062a\u0628"),e.qZA(),e._UZ(122,"input",76),e.qZA(),e.TgZ(123,"div",41)(124,"label",77),e._uU(125,"\u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0632\u0645\u0646\u064a\u0629"),e.qZA(),e._UZ(126,"input",78),e.qZA()()(),e.TgZ(127,"div",79)(128,"div",25)(129,"div",41)(130,"label",80),e._uU(131,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),e.qZA(),e._UZ(132,"input",81),e.qZA(),e.TgZ(133,"div",82)(134,"label",83),e._uU(135,"\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e.TgZ(136,"textarea",84),e._uU(137),e.qZA()()()(),e.TgZ(138,"div",85)(139,"div",25)(140,"div",86)(141,"label",87),e._uU(142,"\u0627\u0633\u0645 \u0648\u0631\u062f\u064a\u0629 \u0627\u0644\u0639\u0645\u0644"),e.qZA(),e._UZ(143,"input",88),e.qZA(),e.TgZ(144,"div",86)(145,"label",89),e._uU(146,"\u0646\u0648\u0639 \u0648\u0631\u062f\u064a\u0629 \u0627\u0644\u0639\u0645\u0644"),e.qZA(),e._UZ(147,"input",88),e.qZA(),e.TgZ(148,"div",86)(149,"label",90),e._uU(150,"\u0645\u0648\u0639\u062f \u0628\u062f\u0621 \u0627\u0644\u0648\u0631\u062f\u064a\u0629"),e.qZA(),e._UZ(151,"input",88),e.qZA(),e.TgZ(152,"div",86)(153,"label",91),e._uU(154,"\u0645\u0648\u0639\u062f \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0648\u0631\u062f\u064a\u0629"),e.qZA(),e._UZ(155,"input",88),e.qZA(),e.TgZ(156,"div",86)(157,"label",92),e._uU(158,"\u0627\u064a\u0627\u0645 \u0627\u0644\u0639\u0645\u0644"),e.qZA(),e._UZ(159,"input",88),e.qZA()()(),e.TgZ(160,"div",93)(161,"div",94)(162,"a",95),e._uU(163,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0627\u0626\u0644\u064a\u0629"),e.qZA()(),e.YNc(164,yo,2,1,"div",96),e.YNc(165,ho,3,0,"div",97),e.qZA(),e.TgZ(166,"div",98)(167,"div",94)(168,"a",95),e._uU(169,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062e\u0635\u064a\u0629"),e.qZA()(),e.YNc(170,Zo,26,11,"div",96),e.YNc(171,Ao,3,0,"div",97),e.qZA(),e.TgZ(172,"div",99)(173,"div",94)(174,"a",95),e._uU(175,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0628\u0646\u0643\u064a\u0629"),e.qZA()(),e.YNc(176,Io,2,1,"div",96),e.YNc(177,qo,3,0,"div",97),e.qZA()()()()()()}if(2&r){const o=e.oxw();e.xp6(39),e.AsE(" ",o.employee.first_name," ",o.employee.last_name," "),e.xp6(2),e.Oqu(o.employee.job_title),e.xp6(2),e.Q6J("routerLink",e.lcZ(44,33,e.VKq(35,xo,o.employee.id))),e.xp6(14),e.Q6J("value",o.employee.first_name),e.xp6(4),e.Q6J("value",o.employee.last_name),e.xp6(4),e.Q6J("value",o.employee.phone),e.xp6(7),e.Q6J("value",o.employee.personal_email),e.xp6(5),e.Q6J("value",o.employee.date_of_birth),e.xp6(6),e.Q6J("value",o.employee.salary),e.xp6(4),e.Q6J("value",o.employee.currency.name),e.xp6(4),e.Q6J("value",o.employee.country.name),e.xp6(4),e.Q6J("value",o.employee.city.name),e.xp6(4),e.Q6J("value",o.employee.address),e.xp6(5),e.Q6J("value",o.employee.hire_date),e.xp6(6),e.Q6J("value",o.employee.status),e.xp6(4),e.Q6J("value",o.employee.job_title),e.xp6(4),e.Q6J("value",o.employee.department.name),e.xp6(4),e.Q6J("value",o.employee.office.name),e.xp6(4),e.Q6J("value",o.employee.office.time_zone),e.xp6(6),e.Q6J("value",o.employee.job_description.position),e.xp6(5),e.Oqu(o.employee.job_description.description),e.xp6(6),e.Q6J("value",null==o.employee.shift?null:o.employee.shift.name),e.xp6(4),e.Q6J("value",null==o.employee.shift?null:o.employee.shift.type),e.xp6(4),e.Q6J("value",null==o.employee.shift?null:o.employee.shift.start_time),e.xp6(4),e.Q6J("value",null==o.employee.shift?null:o.employee.shift.end_time),e.xp6(4),e.Q6J("value",null==o.employee.shift?null:o.employee.shift.working_days.join(", ")),e.xp6(5),e.Q6J("ngIf",o.familyInfo.length>0),e.xp6(1),e.Q6J("ngIf",0==o.familyInfo.length),e.xp6(5),e.Q6J("ngIf",o.familyInfo.length>0),e.xp6(1),e.Q6J("ngIf",!o.personalInfo),e.xp6(5),e.Q6J("ngIf",o.bankInfo.length>0),e.xp6(1),e.Q6J("ngIf",0==o.bankInfo.length)}}let Fo=(()=>{class r{constructor(o,n,t,l,a,c){this.localize=o,this.router=n,this.activatedRoute=t,this.employeesService=l,this.dialog=a,this.empInsurances=c,this.employeeId="",this.familyInfo=[],this.bankInfo=[],this.loading=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.employeeId=n,this.employeesService.GetEmployeeById(n).subscribe(t=>{t&&t.data&&(this.employee=t.data)}),this.employeesService.GetEmployeeInfo(n,"family").subscribe(t=>{t&&t.data.family_information&&(this.familyInfo=t.data.family_information)}),this.employeesService.GetEmployeeInfo(n,"personal").subscribe(t=>{t&&t.data.personal_information&&(this.personalInfo=t.data.personal_information)}),this.employeesService.GetEmployeeInfo(n,"bank").subscribe(t=>{t&&t.data.bank_accounts&&(this.bankInfo=t.data.bank_accounts)}))})}getListEmpInsurances(o=1){this.loading=!0,this.empInsurances.getAllSocialInsurances().subscribe({next:n=>{this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToEmployeesList(){const o=this.localize.translateRoute("/dashboard/employees");this.router.navigate([o])}deleteEmployee(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.employeesService.DeleteEmployee(o.toString()).subscribe({next:a=>{this.navigateToEmployeesList()},error:a=>{console.error("There was an error deleting the employee!",a)}})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(h.M),e.Y36(I.uw),e.Y36(Y))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-employee"]],standalone:!0,features:[e.jDz],decls:14,vars:1,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-9"],[1,"col-sm-3","back","text-sm-end"],[1,"text-decoration-none",3,"click"],[1,"fa-solid","fa-chevron-left","ms-2"],["class","row add-row",4,"ngIf"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body","border-b","py-2"],["id","pills-tab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","mainInfo-tab","data-bs-toggle","pill","data-bs-target","#mainInfo","type","button","role","tab","aria-controls","mainInfo","aria-selected","true",1,"nav-link","active"],[1,"fa-regular","fa-user","me-2"],["id","jobDescription-tab","data-bs-toggle","pill","data-bs-target","#jobDescription","type","button","role","tab","aria-controls","jobDescription","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-briefcase","me-2"],["id","jobShifts-tab","data-bs-toggle","pill","data-bs-target","#jobShifts","type","button","role","tab","aria-controls","jobShifts","aria-selected","false",1,"nav-link"],[1,"fa-regular","fa-clock","me-2"],["id","familyInfo-tab","data-bs-toggle","pill","data-bs-target","#familyInfo","type","button","role","tab","aria-controls","familyInfo","aria-selected","false",1,"nav-link"],["id","personalInfo-tab","data-bs-toggle","pill","data-bs-target","#personalInfo","type","button","role","tab","aria-controls","personalInfo","aria-selected","false",1,"nav-link"],["id","bankInfo-tab","data-bs-toggle","pill","data-bs-target","#bankInfo","type","button","role","tab","aria-controls","bankInfo","aria-selected","false",1,"nav-link"],[1,"card-body","border-b"],[1,"row"],[1,"col-lg-9","col-md-8","col-12","mb-sm-0","mb-3"],[1,"card","border-0"],[1,"card-body"],[1,"col-xl-2","col-lg-3","col-md-12","col-sm-4","col-12","mb-lg-0","mb-md-2","mb-sm-0","mb-2","text-lg-start","text-md-center","text-sm-start","text-center"],["src","../../../../../../../assets/images/Profile-Photo.png","alt","",1,"img-fluid"],[1,"col","text-lg-start","text-md-center","text-sm-start","text-center"],[1,"card-title"],[1,"card-text","mb-0"],[1,"col-lg-3","col-md-4","col-12","mb-sm-0","mb-3","action","text-center"],[1,"btn","edit","col-sm-10","col-12","py-2","mb-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","col-sm-10","col-12","py-2",3,"click"],[1,"fa-regular","fa-trash-can"],["id","pills-tabContent",1,"tab-content"],["id","mainInfo","role","tabpanel","aria-labelledby","mainInfo-tab","tabindex","0",1,"tab-pane","fade","show","active"],[1,"form-group","col-md-6","mb-3"],["for","firstName",1,"form-label"],["readonly","","type","text","id","firstName","name","firstName",1,"form-control","form-control-lg",3,"value"],["for","lastName",1,"form-label"],["readonly","","type","text","id","lastName","name","lastName",1,"form-control","form-control-lg",3,"value"],["for","phone",1,"form-label"],["readonly","","type","text","id","phone","name","phone",1,"form-control","form-control-lg",3,"value"],["for","email",1,"form-label"],[1,"input-group","input-group-lg"],["for","email","id","basic-addon1",1,"input-group-text"],["readonly","","id","email","name","email","type","text",1,"form-control",3,"value"],["for","birthdate",1,"form-label"],["readonly","","type","date","id","birthdate",1,"form-control","form-control-lg",3,"value"],["for","birthdate",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["for","salary",1,"form-label"],["readonly","","type","text","id","salary",1,"form-control","form-control-lg",3,"value"],["for","currency",1,"form-label"],["readonly","","type","text","id","currency",1,"form-control","form-control-lg",3,"value"],["for","country",1,"form-label"],["type","text","readonly","","id","country",1,"form-control","form-control-lg",3,"value"],["for","town",1,"form-label"],["type","text","readonly","","id","town",1,"form-control","form-control-lg",3,"value"],["for","address",1,"form-label"],["type","text","readonly","","id","address",1,"form-control","form-control-lg",3,"value"],["for","recruitDate",1,"form-label"],["type","text","readonly","","id","recruitDate",1,"form-control","form-control-lg",3,"value"],["for","recruitDate",1,"input-group-text"],["for","employmentStatus",1,"form-label"],["type","text","readonly","","id","employmentStatus",1,"form-control","form-control-lg",3,"value"],["for","title",1,"form-label"],["type","text","readonly","","id","title",1,"form-control","form-control-lg",3,"value"],["for","department",1,"form-label"],["type","text","readonly","","id","department",1,"form-control","form-control-lg",3,"value"],["for","office",1,"form-label"],["type","text","readonly","","id","office",1,"form-control","form-control-lg",3,"value"],["for","timeZone",1,"form-label"],["type","text","readonly","","id","timeZone",1,"form-control","form-control-lg",3,"value"],["id","jobDescription","role","tabpanel","aria-labelledby","jobDescription-tab","tabindex","0",1,"tab-pane","fade"],["for","position",1,"form-label"],["type","text","readonly","","id","position",1,"form-control","form-control-lg",3,"value"],[1,"form-group","col-12","mb-3"],["for","description",1,"form-label"],["readonly","","id","description","rows","3",1,"form-control","form-control-lg"],["id","jobShifts","role","tabpanel","aria-labelledby","jobShifts-tab","tabindex","0",1,"tab-pane","fade"],[1,"col-md-6","mb-3"],["for","shiftName",1,"form-label"],["type","text","readonly","",1,"form-control","form-control-lg",3,"value"],["for","shiftType",1,"form-label"],["for","startTime",1,"form-label"],["for","endTime",1,"form-label"],["for","workingDays",1,"form-label"],["id","familyInfo","role","tabpanel","aria-labelledby","familyInfo-tab","tabindex","0",1,"tab-pane","fade"],[1,"action","mb-3"],[1,"btn","get","px-5","py-2",3,"routerLink"],[4,"ngIf"],["class","text-center",4,"ngIf"],["id","personalInfo","role","tabpanel","aria-labelledby","personalInfo-tab","tabindex","0",1,"tab-pane","fade"],["id","bankInfo","role","tabpanel","aria-labelledby","bankInfo-tab","tabindex","0",1,"tab-pane","fade"],["class","row",4,"ngFor","ngForOf"],["for","familyMemberName",1,"form-label"],["type","text","id","familyMemberName","readonly","",1,"form-control","form-control-lg",3,"value"],["for","familyMemberphone",1,"form-label"],["type","text","id","familyMemberphone","readonly","",1,"form-control","form-control-lg",3,"value"],["for","familyMemberRelationship",1,"form-label"],["type","text","id","familyMemberRelationship","readonly","",1,"form-control","form-control-lg",3,"value"],[1,"col-12","mb-3","text-end","action"],[1,"btn","edit",3,"routerLink"],[1,"text-center"],["for","religion",1,"form-label"],["type","text","id","religion","readonly","",1,"form-control","form-control-lg",3,"value"],["for","nationalIdNumber",1,"form-label"],["type","text","id","nationalIdNumber","readonly","",1,"form-control","form-control-lg",3,"value"],["for","maritalStatus",1,"form-label"],["type","text","id","maritalStatus","readonly","",1,"form-control","form-control-lg",3,"value"],["for","militaryStatus",1,"form-label"],["type","text","id","militaryStatus","readonly","",1,"form-control","form-control-lg",3,"value"],["for","childrenNumber",1,"form-label"],["type","text","id","childrenNumber","readonly","",1,"form-control","form-control-lg",3,"value"],["for","bankType",1,"form-label"],["type","text","id","bankType","readonly","",1,"form-control","form-control-lg",3,"value"],["for","bankName",1,"form-label"],["type","text","id","bankName","readonly","",1,"form-control","form-control-lg",3,"value"],["for","accountNumber",1,"form-label"],["type","text","id","accountNumber","readonly","",1,"form-control","form-control-lg",3,"value"],["for","IBAN",1,"form-label"],["type","text","id","IBAN","readonly","",1,"form-control","form-control-lg",3,"value"],["for","acountHolderName",1,"form-label"],["type","text","id","acountHolderName","readonly","",1,"form-control","form-control-lg",3,"value"],["for","nationalId",1,"form-label"],["type","text","id","nationalId","readonly","",1,"form-control","form-control-lg",3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0628\u0634\u0631\u064a\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.NdJ("click",function(){return t.navigateToEmployeesList()}),e._uU(11,"\u0631\u062c\u0648\u0639 "),e._UZ(12,"i",7),e.qZA()()(),e.YNc(13,To,178,37,"div",8),e.qZA()),2&n&&(e.xp6(13),e.Q6J("ngIf",t.employee))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,i.u5,y.L],styles:[".card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{box-shadow:var(--box-shadow1);border-radius:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--main-color)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:#fff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}.otherInfo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#000}"]})}return r})(),S=(()=>{class r{constructor(o){this.http=o,this.leaveRequestNotesUrl=`${v.N.url}get/employee/leave/request/notes/by-employee-leave-request-id`,this.newLeaveRequestNotesUrl=`${v.N.url}employee/leave/request/notes`,this.deleteLeaveRequestNoteUrl=`${v.N.url}employee/leave/request/notes`,this.leaveRequestsUrl=`${v.N.url}employee/leave/requests`,this.createLeaveRequestUrl=`${v.N.url}employee/leave/requests`,this.updateLeaveRequestUrl=`${v.N.url}employee/leave/requests/`,this.deleteLeaveRequestUrl=`${v.N.url}employee/leave/requests`,this.getLeaveRequestUrl=`${v.N.url}employee/leave/requests/`}getAllLeaveRequests(o){let n=new g.LE;return o&&Object.keys(o).forEach(t=>{n=n.append(t,o[t])}),this.http.get(this.leaveRequestsUrl,{params:n})}getAllLeaveRequestNotes(o){let n=new g.LE;return o&&Object.keys(o).forEach(t=>{n=n.append(t,o[t])}),this.http.get(this.leaveRequestNotesUrl,{params:n})}createLeaveRequestNotes(o,n){let t=new g.LE;return n&&Object.keys(n).forEach(l=>{t=t.append(l,n[l])}),this.http.post(this.newLeaveRequestNotesUrl,o,{params:t,headers:{"Content-Type":"application/json"}})}deleteLeaveRequestNote(o){return this.http.delete(`${this.deleteLeaveRequestNoteUrl}/${o}`)}createLeaveRequest(o,n){let t=new g.LE;return n&&Object.keys(n).forEach(l=>{t=t.append(l,n[l])}),this.http.post(this.createLeaveRequestUrl,o,{params:t,headers:{"Content-Type":"application/json"}})}getLeaveRequestById(o){return this.http.get(`${this.getLeaveRequestUrl}${o}`)}updateLeaveRequest(o,n,t){const l=`${this.updateLeaveRequestUrl}${o}`;let a=new g.LE;t&&Object.keys(t).forEach(d=>{a=a.append(d,t[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&(Array.isArray(p)?p.forEach((Z,au)=>{c.append(`${d}[${au}]`,Z.toString())}):c.append(d,p.toString()))}),this.http.post(l,c,{params:a})}deleteLeaveRequest(o){return this.http.delete(`${this.deleteLeaveRequestUrl}/${o}`)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(g.eN))};static#o=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Co=function(r,u){return[r,u]};function Uo(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.viewRequest(l))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.deleteRequest(l.id,l.employee.first_name+" "+l.leave_reason))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&r){const o=u.$implicit,n=u.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",o.employee.first_name," ",o.employee.last_name," "),e.xp6(2),e.Oqu(o.leave_reason),e.xp6(2),e.Oqu(o.status),e.xp6(5),e.Q6J("routerLink",e.WLB(8,Co,e.lcZ(14,6,"/dashboard/employees/add-leave-req"),o.id))}}function wo(r,u){1&r&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let No=(()=>{class r{constructor(o,n,t,l,a,c){this.employeeService=o,this.empLeaveRequestService=n,this.localize=t,this.router=l,this.activatedRoute=a,this.dialog=c,this.searchQuery="",this.leaveRequests=[],this.leaveRequestNotes=[],this.loading=!1,console.log("leave reques tworking")}ngOnInit(){this.getListLeaveRequests()}getListLeaveRequests(o=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequests().subscribe({next:n=>{this.leaveRequests=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}getListLeaveRequestNotes(o=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequestNotes().subscribe({next:n=>{console.log(n.data);const t=n.data;this.leaveRequestNotes=this.leaveRequests.map(l=>({requestId:l.id,notes:t&&t.length>0?t.filter(a=>a.employeeLeaveRequest&&a.employeeLeaveRequest.id===l.id):[]})),console.log(this.leaveRequestNotes),this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddRequest(){const o=this.localize.translateRoute("/dashboard/employees/add-leave-req");this.router.navigate([o])}deleteRequest(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.empLeaveRequestService.deleteLeaveRequest(o.toString()).subscribe({next:a=>{this.getListLeaveRequests()},error:a=>{console.error("There was an error deleting the admin!",a)}})})}viewRequest(o){if(o){const n=this.localize.translateRoute("/dashboard/employees/show-leave-req");this.router.navigate([n,o.id])}else console.error("No employee to view")}onPageChange(o){this.getListLeaveRequests(o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(h.M),e.Y36(S),e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(I.uw))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-leave-requests"]],standalone:!0,features:[e.jDz],decls:47,vars:11,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return t.navigateToAddRequest()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0625\u0630\u0646 "),e.qZA()(),e.TgZ(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return t.searchQuery=a}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u0630\u0646"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,Uo,20,11,"tr",20),e.ALo(40,"filter"),e.YNc(41,wo,3,0,"tr",21),e.ALo(42,"filter"),e.qZA()()()(),e.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),e.NdJ("pageChange",function(a){return t.onPageChange(a)}),e.qZA()()()()()()()()),2&n&&(e.xp6(19),e.Q6J("ngModel",t.searchQuery),e.xp6(20),e.Q6J("ngForOf",e.xi3(40,5,t.leaveRequests,t.searchQuery)),e.xp6(2),e.Q6J("ngIf",0===e.xi3(42,8,t.leaveRequests,t.searchQuery).length&&!t.loading),e.xp6(5),e.Q6J("currentPage",t.currentPage)("totalPages",t.totalPages))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,E.Q,i.u5,i.Fj,i.JJ,i.On,J.u,y.L]})}return r})();var x=f(4170),T=f(2032),F=f(8167),C=f(3680),U=f(2296),w=f(617),N=f(7988),k=f(1301);function Eo(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Jo(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Qo(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Yo(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function Ro(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,Qo,2,0,"div",18),e.YNc(2,Yo,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.serverError)}}function So(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Lo(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function Mo(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,So,2,0,"div",18),e.YNc(2,Lo,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.serverError)}}function Po(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ko(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function Do(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,Po,2,0,"div",18),e.YNc(2,ko,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.serverError)}}function jo(r,u){if(1&r&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function Oo(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function zo(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function Vo(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,Oo,2,0,"div",18),e.YNc(2,zo,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function $o(r,u){if(1&r&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name,"",o.last_name," ")}}function Bo(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ko(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function Go(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,Bo,2,0,"div",18),e.YNc(2,Ko,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.serverError)}}function Ho(r,u){if(1&r&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function Xo(r,u){1&r&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Wo(r,u){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function er(r,u){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,Xo,2,0,"div",18),e.YNc(2,Wo,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.serverError)}}function or(r,u){1&r&&(e.ynx(0),e.TgZ(1,"div",34)(2,"button",35),e._UZ(3,"i",36),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()(),e.BQk())}function rr(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",34)(1,"button",37),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.updateLeaveRequest())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.leaveRequestForm.valid)}}const tr=function(r){return[r]};let D=(()=>{class r{constructor(o,n,t,l,a,c,d,p,Z){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.leaveReqService=c,this.dashboardService=d,this.dialog=p,this.leaveSettingsService=Z,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.showNoteInput=!1,this.noteText="",this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"Approved ",name:"Approved "},{id:"Rejected",name:"Rejected"},{id:"Pending",name:"Pending"}],this.errorMessage="",this.leaveRequestForm=new i.cw({from_date:new i.NI("",i.kI.required),to_date:new i.NI("",i.kI.required),days:new i.NI([],i.kI.required),leave_reason:new i.NI("",i.kI.required),leave_setting_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),status:new i.NI("Pending",i.kI.required),noteText:new i.NI("")}),this.leaveSettings=[],this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.getLeavesSettings(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.leaveRequestId=n,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(n).subscribe(t=>{t&&t.data&&(this.getListLeaveRequestNotes(),this.setFormValues(t.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getLeavesSettings(){this.leaveSettingsService.getLeaveSettings().subscribe({next:o=>{o&&o.data&&(this.leaveSettings=o.data,console.log(this.leaveSettings))},error:o=>{console.error(o)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:o=>{o&&o.data&&(this.countries=o.data)},error:o=>{console.error(o)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:o=>{o&&o.data&&(this.departments=o.data)},error:o=>{console.error(o)}})}onCountryChange(o){this.dashboardService.getCityByCountry(o.target.value).subscribe({next:l=>{l&&l.data&&l.data.cities&&(this.cities=l.data.cities)},error:l=>{console.error(l)}})}getListLeaveRequestNotes(o=1){this.leaveReqService.getAllLeaveRequestNotes({employee_leave_request_id:this.leaveRequestId}).subscribe({next:t=>{t.data&&t.data.notes&&(this.leaveRequestNotes=t.data.notes)},error:t=>{console.error("There was an error!",t)}})}setFormValues(o){if(o.days&&o.days.length>0){const n=c=>{const[d,p,Z]=c.split("-").map(Number);return new Date(Z,p-1,d)},t=n(o.days[0]),l=n(o.days[o.days.length-1]),a=c=>`${c.getFullYear()}-${("0"+(c.getMonth()+1)).slice(-2)}-${("0"+c.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(a(t)),this.leaveRequestForm.get("to_date")?.setValue(a(l))}this.leaveRequestForm.patchValue({days:o.days,leave_reason:o.leave_reason,leave_setting_id:o.leave.id,employee_id:o.employee.id,status:o.status})}addNote(){this.showNoteInput=!this.showNoteInput}deleteNote(o){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:"\u061f \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629 \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  "}}).afterClosed().subscribe(l=>{l&&this.leaveReqService.deleteLeaveRequestNote(o.id.toString()).subscribe({next:a=>{this.getListLeaveRequestNotes()},error:a=>{console.error("There was an error deleting the admin!",a)}})})}saveNote(){this.leaveRequestForm.valid&&this.leaveReqService.createLeaveRequestNotes({employee_leave_request_id:this.leaveRequestId,employee_id:this.leaveRequestForm.controls.employee_id.value,parent_id:1,notes:this.leaveRequestForm.controls.noteText.value}).subscribe({next:n=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3),this.showNoteInput=!1,this.noteText="",this.getListLeaveRequestNotes()},error:n=>{console.error("Failed to add note:",n),this._MessagesService.showErrorMessage(n,"\u0641\u0634\u0644 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3)}})}updateLeaveRequest(){if(this.leaveRequestForm.valid){const o={...this.leaveRequestForm.value,days:this.generateDaysArray(new Date(this.leaveRequestForm.value.from_date),new Date(this.leaveRequestForm.value.to_date)),_method:"PATCH"};delete o.noteText,this.leaveReqService.updateLeaveRequest(this.leaveRequestId,o).subscribe({next:n=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update leave request:",n)}})}else this.leaveRequestForm.markAllAsTouched()}onSubmit(){if(this.updateDaysArray(),this.leaveRequestForm.valid){const o=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date),t=this.generateDaysArray(o,n),l={...this.leaveRequestForm.value,days:t};delete l.noteText,this.leaveReqService.createLeaveRequest(l).subscribe({next:a=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):(this.errorMessage="Failed to add leave request. Please try again.",console.error("Failed to add leave request:",a))}})}else this.leaveRequestForm.markAllAsTouched()}updateDaysArray(){const o=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date);if(o&&n&&o<=n){const t=this.generateDaysArray(o,n);this.leaveRequestForm.get("days")?.setValue(t)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(o,n){const t=[],l=new Date(o);for(;l<=n;)t.push(("00"+l.getDate()).slice(-2)+"-"+("00"+(l.getMonth()+1)).slice(-2)+"-"+l.getFullYear()),l.setDate(l.getDate()+1);return t}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.leaveRequestForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToLeaveRequestsList(){const o=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(S),e.Y36(q.K),e.Y36(I.uw),e.Y36(k.v))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-leave-request"]],standalone:!0,features:[e.jDz],decls:58,vars:19,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["name","leave_setting_id","id","leave_setting_id","formControlName","leave_setting_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],[3,"value"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Eo,2,0,"h5",12),e.YNc(19,Jo,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,Ro,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,Mo,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,Do,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e.TgZ(40,"select",24),e.YNc(41,jo,2,2,"option",25),e.qZA(),e.YNc(42,Vo,3,2,"div",18),e.qZA(),e.TgZ(43,"div",15)(44,"label",26),e._uU(45,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(46,"select",27),e.YNc(47,$o,2,3,"option",25),e.qZA(),e.YNc(48,Go,3,2,"div",18),e.qZA(),e.TgZ(49,"div",15)(50,"label",28),e._uU(51,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(52,"select",29),e.YNc(53,Ho,2,2,"option",25),e.qZA(),e.YNc(54,er,3,2,"div",18),e.qZA(),e.YNc(55,or,5,0,"ng-container",30),e.YNc(56,rr,3,1,"ng-template",null,31,e.W1O),e.qZA()()()()()()()),2&n){const l=e.MAs(57);e.xp6(10),e.Q6J("routerLink",e.VKq(17,tr,e.lcZ(11,15,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",t.leaveRequestForm.controls.from_date.invalid&&(t.leaveRequestForm.controls.from_date.dirty||t.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",t.leaveRequestForm.controls.to_date.invalid&&(t.leaveRequestForm.controls.to_date.dirty||t.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",t.leaveRequestForm.controls.leave_reason.invalid&&(t.leaveRequestForm.controls.leave_reason.dirty||t.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngForOf",t.leaveSettings),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.leave_setting_id.invalid&&(t.leaveRequestForm.controls.leave_setting_id.dirty||t.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.employee_id.invalid&&(t.leaveRequestForm.controls.employee_id.dirty||t.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.statusOptions),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.status.invalid&&(t.leaveRequestForm.controls.status.dirty||t.leaveRequestForm.controls.status.touched)),e.xp6(1),e.Q6J("ngIf",!t.isEditMode)("ngIfElse",l)}},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,i.u5,N.Tx]})}return r})();function nr(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function ur(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function ir(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function lr(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function ar(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,ir,2,0,"div",18),e.YNc(2,lr,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.from_date.errors?null:o.leaveRequestForm.controls.from_date.errors.serverError)}}function sr(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function cr(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function dr(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,sr,2,0,"div",18),e.YNc(2,cr,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.to_date.errors?null:o.leaveRequestForm.controls.to_date.errors.serverError)}}function mr(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function _r(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function pr(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,mr,2,0,"div",18),e.YNc(2,_r,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_reason.errors?null:o.leaveRequestForm.controls.leave_reason.errors.serverError)}}function fr(r,u){if(1&r&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function vr(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function gr(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function yr(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,vr,2,0,"div",18),e.YNc(2,gr,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.leave_setting_id.errors?null:o.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function hr(r,u){if(1&r&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name,"",o.last_name," ")}}function Zr(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ar(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function br(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,Zr,2,0,"div",18),e.YNc(2,Ar,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.employee_id.errors?null:o.leaveRequestForm.controls.employee_id.errors.serverError)}}function Ir(r,u){if(1&r&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function qr(r,u){1&r&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function xr(r,u){if(1&r&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function Tr(r,u){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,qr,2,0,"div",18),e.YNc(2,xr,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.leaveRequestForm.controls.status.errors?null:o.leaveRequestForm.controls.status.errors.serverError)}}const Fr=function(r){return[r]};let Cr=(()=>{class r{constructor(o,n,t,l,a,c,d,p){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.leaveReqService=c,this.dashboardService=d,this.leaveSettingsService=p,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"Approved ",name:"Approved "},{id:"Rejected",name:"Rejected"},{id:"Pending",name:"Pending"}],this.errorMessage="",this.leaveRequestForm=new i.cw({from_date:new i.NI("",i.kI.required),to_date:new i.NI("",i.kI.required),days:new i.NI([],i.kI.required),leave_reason:new i.NI("",i.kI.required),leave_setting_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),status:new i.NI("Pending",i.kI.required)}),this.loading=!1,this.leaveSettings=[],this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.leaveRequestId=n,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(n).subscribe(t=>{t&&t.data&&(this.getListLeaveRequestNotes(),this.getLeavesSettings(),this.setFormValues(t.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:o=>{o&&o.data&&(this.countries=o.data)},error:o=>{console.error(o)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:o=>{o&&o.data&&(this.departments=o.data)},error:o=>{console.error(o)}})}getLeavesSettings(){this.leaveSettingsService.getLeaveSettings().subscribe({next:o=>{o&&o.data&&(this.leaveSettings=o.data,console.log(this.leaveSettings))},error:o=>{console.error(o)}})}getListLeaveRequestNotes(o=1){this.leaveReqService.getAllLeaveRequestNotes({employee_leave_request_id:this.leaveRequestId}).subscribe({next:t=>{t.data&&t.data.notes&&(this.leaveRequestNotes=t.data.notes)},error:t=>{console.error("There was an error!",t)}})}onCountryChange(o){this.dashboardService.getCityByCountry(o.target.value).subscribe({next:l=>{l&&l.data&&l.data.cities&&(this.cities=l.data.cities)},error:l=>{console.error(l)}})}setFormValues(o){if(o.days&&o.days.length>0){if(o.days&&o.days.length>0){const n=c=>{const[d,p,Z]=c.split("-").map(Number);return new Date(Z,p-1,d)},t=n(o.days[0]),l=n(o.days[o.days.length-1]),a=c=>`${c.getFullYear()}-${("0"+(c.getMonth()+1)).slice(-2)}-${("0"+c.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(a(t)),this.leaveRequestForm.get("to_date")?.setValue(a(l))}console.log(this.leaveRequestForm.value)}this.leaveRequestForm.patchValue({days:o.days,leave_reason:o.leave_reason,leave_setting_id:o.leave.id,employee_id:o.employee.id,status:o.status})}updateDaysArray(){const o=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date);if(o&&n&&o<=n){const t=this.generateDaysArray(o,n);this.leaveRequestForm.get("days")?.setValue(t)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(o,n){const t=[],l=new Date(o);for(;l<=n;)t.push(("00"+l.getDate()).slice(-2)+"-"+("00"+(l.getMonth()+1)).slice(-2)+"-"+l.getFullYear()),l.setDate(l.getDate()+1);return t}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.leaveRequestForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToLeaveRequestsList(){const o=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(S),e.Y36(q.K),e.Y36(k.v))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-leave-request"]],standalone:!0,features:[e.jDz],decls:55,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date","readonly","",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date","readonly","",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason","readonly","",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["name","leave_setting_id","id","leave_setting_id","formControlName","leave_setting_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id","readonly","",1,"form-select","form-select-lg","readonly-select"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg","readonly-select"],[1,"ms-error"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,nr,2,0,"h5",12),e.YNc(19,ur,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,ar,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,dr,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,pr,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e.TgZ(40,"select",24),e.YNc(41,fr,2,2,"option",25),e.qZA(),e.YNc(42,yr,3,2,"div",18),e.qZA(),e.TgZ(43,"div",15)(44,"label",26),e._uU(45,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(46,"select",27),e.YNc(47,hr,2,3,"option",25),e.qZA(),e.YNc(48,br,3,2,"div",18),e.qZA(),e.TgZ(49,"div",15)(50,"label",28),e._uU(51,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(52,"select",29),e.YNc(53,Ir,2,2,"option",25),e.qZA(),e.YNc(54,Tr,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(15,Fr,e.lcZ(11,13,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",t.leaveRequestForm.controls.from_date.invalid&&(t.leaveRequestForm.controls.from_date.dirty||t.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",t.leaveRequestForm.controls.to_date.invalid&&(t.leaveRequestForm.controls.to_date.dirty||t.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",t.leaveRequestForm.controls.leave_reason.invalid&&(t.leaveRequestForm.controls.leave_reason.dirty||t.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngForOf",t.leaveSettings),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.leave_setting_id.invalid&&(t.leaveRequestForm.controls.leave_setting_id.dirty||t.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.employee_id.invalid&&(t.leaveRequestForm.controls.employee_id.dirty||t.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.statusOptions),e.xp6(1),e.Q6J("ngIf",t.leaveRequestForm.controls.status.invalid&&(t.leaveRequestForm.controls.status.dirty||t.leaveRequestForm.controls.status.touched)))},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,N.Tx],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return r})(),Q=(()=>{class r{constructor(o){this.http=o,this.medicalInsurancesListUrl=`${v.N.url}employee/medical/insurances`,this.createMedicalInsuranceUrl=`${v.N.url}employee/medical/insurances`,this.updateMedicalInsuranceUrl=`${v.N.url}employee/medical/insurances/`,this.deleteMedicalInsuranceUrl=`${v.N.url}employee/medical/insurances`,this.getMedicalInsuranceUrl=`${v.N.url}employee/medical/insurances/`}getAllMedicalInsurances(o){let n=new g.LE;return o&&Object.keys(o).forEach(t=>{n=n.append(t,o[t])}),this.http.get(this.medicalInsurancesListUrl,{params:n})}createMedicalInsurance(o,n){let t=new g.LE;return n&&Object.keys(n).forEach(l=>{t=t.append(l,n[l])}),this.http.post(this.createMedicalInsuranceUrl,o,{params:t,headers:{"Content-Type":"application/json"}})}getMedicalInsuranceById(o){return this.http.get(`${this.getMedicalInsuranceUrl}${o}`)}updateMedicalInsurance(o,n,t){const l=`${this.updateMedicalInsuranceUrl}${o}`;let a=new g.LE;t&&Object.keys(t).forEach(d=>{a=a.append(d,t[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&c.append(d,p.toString())}),this.http.post(l,c,{params:a})}deleteMedicalInsurance(o){return this.http.delete(`${this.deleteMedicalInsuranceUrl}/${o}`)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(g.eN))};static#o=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Ur=function(r,u){return[r,u]};function wr(r,u){if(1&r){const o=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){e.CHM(o);const t=e.oxw().$implicit,l=e.oxw();return e.KtG(l.viewInsurance(t))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){e.CHM(o);const t=e.oxw().$implicit,l=e.oxw();return e.KtG(l.deleteInsurance(t.id,t.employee.first_name+" "+t.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()(),e.BQk()}if(2&r){const o=e.oxw(),n=o.index,t=o.$implicit;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.start_date),e.xp6(2),e.Oqu(t.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,Ur,e.lcZ(14,6,"/dashboard/employees/create-medical-record"),t.id))}}function Nr(r,u){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,wr,20,11,"ng-container",21),e.qZA()),2&r){const o=u.$implicit;e.xp6(1),e.Q6J("ngIf",o.employee)}}function Er(r,u){1&r&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let Jr=(()=>{class r{constructor(o,n,t,l,a,c){this.employeeService=o,this.empMedicalInsurancesService=n,this.localize=t,this.router=l,this.activatedRoute=a,this.dialog=c,this.searchQuery="",this.medicalInsurances=[],this.loading=!1,console.log("medical insurance working")}ngOnInit(){this.getListMedicalInsurances()}getListMedicalInsurances(o=1){this.loading=!0,this.empMedicalInsurancesService.getAllMedicalInsurances().subscribe({next:n=>{console.log(n.data),this.medicalInsurances=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddInsurance(){const o=this.localize.translateRoute("/dashboard/employees/create-medical-record");this.router.navigate([o])}deleteInsurance(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.empMedicalInsurancesService.deleteMedicalInsurance(o.toString()).subscribe({next:a=>{this.getListMedicalInsurances()},error:a=>{console.error("There was an error deleting the insurance!",a)}})})}viewInsurance(o){if(o){const n=this.localize.translateRoute("/dashboard/employees/view-medical-record");this.router.navigate([n,o.id])}else console.error("No insurance to view")}onPageChange(o){this.getListMedicalInsurances(o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(h.M),e.Y36(Q),e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(I.uw))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-medical-insurance-list"]],standalone:!0,features:[e.jDz],decls:47,vars:11,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return t.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a "),e.qZA()(),e.TgZ(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return t.searchQuery=a}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,Nr,2,1,"tr",20),e.ALo(40,"filter"),e.YNc(41,Er,3,0,"tr",21),e.ALo(42,"filter"),e.qZA()()()(),e.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),e.NdJ("pageChange",function(a){return t.onPageChange(a)}),e.qZA()()()()()()()()),2&n&&(e.xp6(19),e.Q6J("ngModel",t.searchQuery),e.xp6(20),e.Q6J("ngForOf",e.xi3(40,5,t.medicalInsurances,t.searchQuery)),e.xp6(2),e.Q6J("ngIf",0===e.xi3(42,8,t.medicalInsurances,t.searchQuery).length&&!t.loading),e.xp6(5),e.Q6J("currentPage",t.currentPage)("totalPages",t.totalPages))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,E.Q,i.u5,i.Fj,i.JJ,i.On,J.u,y.L]})}return r})();function Qr(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function Yr(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function Rr(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.medicalInsurance.id),e.xp6(1),e.hij(" ",o.medicalInsurance.package_name," ")}}function Sr(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Lr(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function Mr(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Sr,2,0,"div",19),e.YNc(2,Lr,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function Pr(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function kr(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Dr(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function jr(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,kr,2,0,"div",19),e.YNc(2,Dr,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function Or(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function zr(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Vr(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Or,2,0,"div",19),e.YNc(2,zr,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.serverError)}}function $r(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Br(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Kr(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,$r,2,0,"div",19),e.YNc(2,Br,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.serverError)}}function Gr(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Hr(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function Xr(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Gr,2,0,"div",19),e.YNc(2,Hr,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.serverError)}}function Wr(r,u){1&r&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()(),e.BQk())}function et(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.updateMedicalInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.medicalInsuranceForm.valid)}}const ot=function(r){return[r]};let j=(()=>{class r{constructor(o,n,t,l,a,c,d){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.medicalInsuranceService=c,this.dashboardService=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new i.cw({medical_insurance_id:new i.NI("1",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),card_number:new i.NI("",i.kI.required)}),this.filteredMedicalInsurances=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n?(this.medicalInsuranceId=n,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(n).subscribe(t=>{t&&t.data&&(this.setFormValues(t.data),this.getMedicalInsurances(t.data.employee.id))})):this.getMedicalInsurances()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getMedicalInsurances(o){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:n=>{n&&n.data&&(this.medicalInsurances=n.data,o&&(this.filteredMedicalInsurances=this.medicalInsurances.filter(t=>t.employee&&t.employee.id==o)))},error:n=>{console.error(n)}})}setFormValues(o){this.medicalInsuranceForm.patchValue({medical_insurance_id:o.medicalInsurance.id,employee_id:o.employee.id,start_date:o.start_date,end_date:o.end_date,card_number:o.card_number})}updateMedicalInsurance(){if(this.medicalInsuranceForm.valid){const o={...this.medicalInsuranceForm.value,_method:"PATCH"};this.medicalInsuranceService.updateMedicalInsurance(this.medicalInsuranceId,o).subscribe({next:n=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update medical insurance:",n)}})}else this.medicalInsuranceForm.markAllAsTouched()}onSubmit(){if(console.log(this.medicalInsuranceForm.value),this.medicalInsuranceForm.valid){const o={...this.medicalInsuranceForm.value};this.medicalInsuranceService.createMedicalInsurance(o).subscribe({next:n=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add medical insurance. Please try again.",console.error("Failed to add medical insurance:",n))}})}else this.medicalInsuranceForm.markAllAsTouched()}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.medicalInsuranceForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToMedicalInsurancesList(){const o=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(Q),e.Y36(q.K))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-medical-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","card_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Qr,2,0,"h5",12),e.YNc(19,Yr,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,Rr,2,2,"option",18),e.qZA(),e.YNc(27,Mr,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Pr,2,3,"option",18),e.qZA(),e.YNc(33,jr,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Vr,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Kr,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Xr,3,2,"div",19),e.qZA(),e.YNc(49,Wr,5,0,"ng-container",28),e.YNc(50,et,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const l=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,ot,e.lcZ(11,13,"/dashboard/employees/medical-list"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",t.medicalInsurances),e.xp6(1),e.Q6J("ngIf",t.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(t.medicalInsuranceForm.controls.medical_insurance_id.dirty||t.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.medicalInsuranceForm.controls.employee_id.invalid&&(t.medicalInsuranceForm.controls.employee_id.dirty||t.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.start_date.invalid&&(t.medicalInsuranceForm.controls.start_date.dirty||t.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.end_date.invalid&&(t.medicalInsuranceForm.controls.end_date.dirty||t.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.card_number.invalid&&(t.medicalInsuranceForm.controls.card_number.dirty||t.medicalInsuranceForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!t.isEditMode)("ngIfElse",l)}},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,N.Tx]})}return r})();function rt(r,u){if(1&r&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.medicalInsurance.id),e.xp6(1),e.hij(" ",o.medicalInsurance.package_name," ")}}function tt(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nt(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function ut(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,tt,2,0,"div",18),e.YNc(2,nt,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.medical_insurance_id.errors?null:o.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function it(r,u){if(1&r&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function lt(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function at(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function st(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,lt,2,0,"div",18),e.YNc(2,at,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.employee_id.errors?null:o.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function ct(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function dt(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function mt(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,ct,2,0,"div",18),e.YNc(2,dt,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.start_date.errors?null:o.medicalInsuranceForm.controls.start_date.errors.serverError)}}function _t(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function pt(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function ft(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,_t,2,0,"div",18),e.YNc(2,pt,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.end_date.errors?null:o.medicalInsuranceForm.controls.end_date.errors.serverError)}}function vt(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function gt(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function yt(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,vt,2,0,"div",18),e.YNc(2,gt,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.medicalInsuranceForm.controls.card_number.errors?null:o.medicalInsuranceForm.controls.card_number.errors.serverError)}}const ht=function(r){return[r]};let Zt=(()=>{class r{constructor(o,n,t,l,a,c,d){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.medicalInsuranceService=c,this.dashboardService=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.medicalInformation=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new i.cw({medical_insurance_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),card_number:new i.NI("",i.kI.required)})}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.medicalInsuranceId=n,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(n).subscribe(t=>{t&&t.data&&(this.medicalInformation=t.data,this.getMedicalInsurances())}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getMedicalInsurances(){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:o=>{o&&o.data&&(this.medicalInsurances=o.data,this.setFormValues(this.medicalInformation))},error:o=>{console.error(o)}})}setFormValues(o){console.log(o.medicalInsurance.id),console.log(this.medicalInsurances),this.medicalInsuranceForm.patchValue({medical_insurance_id:o.medicalInsurance.id,employee_id:o.employee.id,start_date:o.start_date,end_date:o.end_date,card_number:o.card_number})}navigateToMedicalInsurancesList(){const o=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(Q),e.Y36(q.K))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-show-medical-insurance"]],standalone:!0,features:[e.jDz],decls:49,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","card_number",1,"form-label"],["formControlName","card_number","type","text","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg","readonly-input"],[3,"value"],[1,"ms-error"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5"),e._uU(19,"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e.TgZ(20,"form",12)(21,"div",13)(22,"div",14)(23,"label",15),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",16),e.YNc(26,rt,2,2,"option",17),e.qZA(),e.YNc(27,ut,3,2,"div",18),e.qZA(),e.TgZ(28,"div",14)(29,"label",19),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",20),e.YNc(32,it,2,3,"option",17),e.qZA(),e.YNc(33,st,3,2,"div",18),e.qZA(),e.TgZ(34,"div",14)(35,"label",21),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",22),e.YNc(38,mt,3,2,"div",18),e.qZA(),e.TgZ(39,"div",14)(40,"label",23),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",24),e.YNc(43,ft,3,2,"div",18),e.qZA(),e.TgZ(44,"div",14)(45,"label",25),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",26),e.YNc(48,yt,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,ht,e.lcZ(11,9,"/dashboard/employees/medical-list"))),e.xp6(10),e.Q6J("formGroup",t.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",t.medicalInsurances),e.xp6(1),e.Q6J("ngIf",t.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(t.medicalInsuranceForm.controls.medical_insurance_id.dirty||t.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.medicalInsuranceForm.controls.employee_id.invalid&&(t.medicalInsuranceForm.controls.employee_id.dirty||t.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.start_date.invalid&&(t.medicalInsuranceForm.controls.start_date.dirty||t.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.end_date.invalid&&(t.medicalInsuranceForm.controls.end_date.dirty||t.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.medicalInsuranceForm.controls.card_number.invalid&&(t.medicalInsuranceForm.controls.card_number.dirty||t.medicalInsuranceForm.controls.card_number.touched)))},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,_.fQ,_.lO],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return r})();var At=f(9315);const bt=function(r,u){return[r,u]};function It(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.ALo(11,"localize"),e._UZ(12,"i",27),e._uU(13," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(14,"button",28),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.deleteInsurance(l.id,l.employee.first_name+" "+l.employee.last_name))}),e._UZ(15,"i",29),e._uU(16," \u062d\u0630\u0641 "),e.qZA()()()}if(2&r){const o=u.$implicit,n=u.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",o.employee.first_name," ",o.employee.last_name," "),e.xp6(2),e.Oqu(o.start_date),e.xp6(2),e.Oqu(o.end_date),e.xp6(2),e.Q6J("routerLink",e.WLB(8,bt,e.lcZ(11,6,"/dashboard/employees/add-insurances"),o.id))}}function qt(r,u){1&r&&(e.TgZ(0,"tr")(1,"td",30),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let xt=(()=>{class r{constructor(o,n,t,l,a){this.empSocialInsurancesService=o,this.localize=n,this.router=t,this.dialog=l,this.employeesService=a,this.searchQuery="",this.socialInsurances=[],this.loading=!1}ngOnInit(){this.getListSocialInsurances()}getListSocialInsurances(o=1){this.loading=!0,this.empSocialInsurancesService.getAllSocialInsurances().subscribe({next:n=>{const t=n.data,l=t.map(a=>this.employeesService.GetEmployeeById(a.employee.id));(0,At.D)(l).subscribe({next:a=>{this.socialInsurances=t.map((c,d)=>({...c,employee:a[d].data})),this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error fetching employees!",a)}})},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddInsurance(){const o=this.localize.translateRoute("/dashboard/employees/add-insurances");this.router.navigate([o])}deleteInsurance(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.empSocialInsurancesService.deleteSocialInsurance(o.toString()).subscribe({next:a=>{this.getListSocialInsurances()},error:a=>{console.error("There was an error deleting the insurance!",a)}})})}viewInsurance(o){if(o){const n=this.localize.translateRoute("/dashboard/employees/show-insurances");this.router.navigate([n,o.id])}else console.error("No insurance to view")}onPageChange(o){this.getListSocialInsurances(o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Y),e.Y36(_.An),e.Y36(s.F0),e.Y36(I.uw),e.Y36(h.M))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-social-insurance-list"]],standalone:!0,features:[e.jDz],decls:47,vars:11,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return t.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.TgZ(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return t.searchQuery=a}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,It,17,11,"tr",20),e.ALo(40,"filter"),e.YNc(41,qt,3,0,"tr",21),e.ALo(42,"filter"),e.qZA()()()(),e.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),e.NdJ("pageChange",function(a){return t.onPageChange(a)}),e.qZA()()()()()()()()),2&n&&(e.xp6(19),e.Q6J("ngModel",t.searchQuery),e.xp6(20),e.Q6J("ngForOf",e.xi3(40,5,t.socialInsurances,t.searchQuery)),e.xp6(2),e.Q6J("ngIf",0===e.xi3(42,8,t.socialInsurances,t.searchQuery).length&&!t.loading),e.xp6(5),e.Q6J("currentPage",t.currentPage)("totalPages",t.totalPages))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,E.Q,i.u5,i.Fj,i.JJ,i.On,J.u,y.L]})}return r})();var Tt=f(7699);function Ft(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function Ct(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function Ut(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function wt(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Nt(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function Et(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,wt,2,0,"div",19),e.YNc(2,Nt,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function Jt(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function Qt(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Yt(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function Rt(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Qt,2,0,"div",19),e.YNc(2,Yt,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.serverError)}}function St(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Lt(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Mt(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,St,2,0,"div",19),e.YNc(2,Lt,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.serverError)}}function Pt(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function kt(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Dt(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Pt,2,0,"div",19),e.YNc(2,kt,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.serverError)}}function jt(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ot(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function zt(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,jt,2,0,"div",19),e.YNc(2,Ot,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.serverError)}}function Vt(r,u){1&r&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.BQk())}function $t(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.updateSocialInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.socialInsuranceForm.valid)}}const Bt=function(r){return[r]};let O=(()=>{class r{constructor(o,n,t,l,a,c,d){this.localize=o,this.router=n,this.activatedRoute=t,this._MessagesService=l,this.employeesService=a,this.socialInsuranceService=c,this.socialInsuranceItems=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new i.cw({social_insurance_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),insurance_number:new i.NI("",i.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.socialInsuranceId=n,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(n).subscribe(t=>{t&&t.data&&this.setFormValues(t.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getSocialInsurances(){this.socialInsuranceItems.GetAllSocial().subscribe({next:o=>{o&&o.data&&(this.socialInsurances=o.data)},error:o=>{console.error(o)}})}setFormValues(o){this.socialInsuranceForm.patchValue({social_insurance_id:o.social.id,employee_id:o.employee.id,start_date:o.start_date,end_date:o.end_date,insurance_number:o.insurance_number})}updateSocialInsurance(){if(this.socialInsuranceForm.valid){const o={...this.socialInsuranceForm.value,_method:"PATCH"};this.socialInsuranceService.updateSocialInsurance(this.socialInsuranceId,o).subscribe({next:n=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update social insurance:",n)}})}else this.socialInsuranceForm.markAllAsTouched()}onSubmit(){if(this.socialInsuranceForm.valid){const o={...this.socialInsuranceForm.value};this.socialInsuranceService.createSocialInsurance(o).subscribe({next:n=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add social insurance. Please try again.",console.error("Failed to add social insurance:",n))}})}else this.socialInsuranceForm.markAllAsTouched()}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.socialInsuranceForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToSocialInsurancesList(){const o=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.K),e.Y36(h.M),e.Y36(Y),e.Y36(Tt.b))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Ft,2,0,"h5",12),e.YNc(19,Ct,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,Ut,2,2,"option",18),e.qZA(),e.YNc(27,Et,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Jt,2,3,"option",18),e.qZA(),e.YNc(33,Rt,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Mt,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Dt,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,zt,3,2,"div",19),e.qZA(),e.YNc(49,Vt,5,0,"ng-container",28),e.YNc(50,$t,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const l=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,Bt,e.lcZ(11,13,"/dashboard/employees/social-insurances"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",t.socialInsurances),e.xp6(1),e.Q6J("ngIf",t.socialInsuranceForm.controls.social_insurance_id.invalid&&(t.socialInsuranceForm.controls.social_insurance_id.dirty||t.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.socialInsuranceForm.controls.employee_id.invalid&&(t.socialInsuranceForm.controls.employee_id.dirty||t.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.start_date.invalid&&(t.socialInsuranceForm.controls.start_date.dirty||t.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.end_date.invalid&&(t.socialInsuranceForm.controls.end_date.dirty||t.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.insurance_number.invalid&&(t.socialInsuranceForm.controls.insurance_number.dirty||t.socialInsuranceForm.controls.insurance_number.touched)),e.xp6(1),e.Q6J("ngIf",!t.isEditMode)("ngIfElse",l)}},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,N.Tx]})}return r})();function Kt(r,u){if(1&r&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.socialInsurance.name," ")}}function Gt(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ht(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function Xt(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,Gt,2,0,"div",18),e.YNc(2,Ht,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.social_insurance_id.errors?null:o.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function Wt(r,u){if(1&r&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function en(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function on(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function rn(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,en,2,0,"div",18),e.YNc(2,on,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.employee_id.errors?null:o.socialInsuranceForm.controls.employee_id.errors.serverError)}}function tn(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nn(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function un(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,tn,2,0,"div",18),e.YNc(2,nn,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.start_date.errors?null:o.socialInsuranceForm.controls.start_date.errors.serverError)}}function ln(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function an(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function sn(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,ln,2,0,"div",18),e.YNc(2,an,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.end_date.errors?null:o.socialInsuranceForm.controls.end_date.errors.serverError)}}function cn(r,u){1&r&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function dn(r,u){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function mn(r,u){if(1&r&&(e.TgZ(0,"div",28),e.YNc(1,cn,2,0,"div",18),e.YNc(2,dn,2,1,"div",18),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.socialInsuranceForm.controls.insurance_number.errors?null:o.socialInsuranceForm.controls.insurance_number.errors.serverError)}}const _n=function(r){return[r]};let pn=(()=>{class r{constructor(o,n,t,l,a){this.localize=o,this.router=n,this.activatedRoute=t,this.employeesService=l,this.socialInsuranceService=a,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new i.cw({social_insurance_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),insurance_number:new i.NI("",i.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.socialInsuranceId=n,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(n).subscribe(t=>{t&&t.data&&this.setFormValues(t.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getSocialInsurances(){this.socialInsuranceService.getAllSocialInsurances().subscribe({next:o=>{o&&o.data&&(this.socialInsurances=o.data)},error:o=>{console.error(o)}})}setFormValues(o){this.socialInsuranceForm.patchValue({social_insurance_id:o.socialInsurance.id,employee_id:o.id,start_date:o.start_date,end_date:o.end_date,insurance_number:o.insurance_number})}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.socialInsuranceForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToSocialInsurancesList(){const o=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(h.M),e.Y36(Y))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:47,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"form",12)(19,"div",13)(20,"div",14)(21,"label",15),e._uU(22,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(23,"select",16),e.YNc(24,Kt,2,2,"option",17),e.qZA(),e.YNc(25,Xt,3,2,"div",18),e.qZA(),e.TgZ(26,"div",14)(27,"label",19),e._uU(28,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(29,"select",20),e.YNc(30,Wt,2,3,"option",17),e.qZA(),e.YNc(31,rn,3,2,"div",18),e.qZA(),e.TgZ(32,"div",14)(33,"label",21),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,un,3,2,"div",18),e.qZA(),e.TgZ(37,"div",14)(38,"label",23),e._uU(39,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,sn,3,2,"div",18),e.qZA(),e.TgZ(42,"div",14)(43,"label",25),e._uU(44,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(45,"input",26),e.YNc(46,mn,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,_n,e.lcZ(11,9,"/dashboard/employees/social-insurances"))),e.xp6(8),e.Q6J("formGroup",t.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",t.socialInsurances),e.xp6(1),e.Q6J("ngIf",t.socialInsuranceForm.controls.social_insurance_id.invalid&&(t.socialInsuranceForm.controls.social_insurance_id.dirty||t.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.socialInsuranceForm.controls.employee_id.invalid&&(t.socialInsuranceForm.controls.employee_id.dirty||t.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.start_date.invalid&&(t.socialInsuranceForm.controls.start_date.dirty||t.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.end_date.invalid&&(t.socialInsuranceForm.controls.end_date.dirty||t.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.socialInsuranceForm.controls.insurance_number.invalid&&(t.socialInsuranceForm.controls.insurance_number.dirty||t.socialInsuranceForm.controls.insurance_number.touched)))},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return r})(),L=(()=>{class r{constructor(o){this.http=o,this.payrollListUrl=`${v.N.url}employee/payroll/item`,this.createPayrollUrl=`${v.N.url}employee/payroll/item`,this.updatePayrollUrl=`${v.N.url}employee/payroll/item/`,this.deletePayrollUrl=`${v.N.url}payroll`,this.getPayrollUrl=`${v.N.url}employee/payroll/item/`}getAllPayrolls(o){let n=new g.LE;return o&&Object.keys(o).forEach(t=>{n=n.append(t,o[t])}),this.http.get(this.payrollListUrl,{params:n})}createPayroll(o,n){let t=new g.LE;return n&&Object.keys(n).forEach(l=>{t=t.append(l,n[l])}),this.http.post(this.createPayrollUrl,o,{params:t,headers:{"Content-Type":"application/json"}})}getPayrollById(o){return this.http.get(`${this.getPayrollUrl}${o}`)}updatePayroll(o,n,t){const l=`${this.updatePayrollUrl}${o}`;let a=new g.LE;t&&Object.keys(t).forEach(d=>{a=a.append(d,t[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&c.append(d,p.toString())}),this.http.post(l,c,{params:a})}deletePayroll(o){return this.http.post(`${this.deletePayrollUrl}/delete?payroll_id=${o}`,"")}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(g.eN))};static#o=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const fn=function(r,u){return[r,u]};function vn(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.viewItem(l))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.deleteItem(l.id,l.employee.first_name+" "+l.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&r){const o=u.$implicit,n=u.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",o.employee.first_name," ",o.employee.last_name," "),e.xp6(2),e.Oqu(o.start_date),e.xp6(2),e.Oqu(o.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,fn,e.lcZ(14,6,"/dashboard/employees/add-payroll-item"),o.id))}}function gn(r,u){1&r&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let yn=(()=>{class r{constructor(o,n,t,l,a,c){this.employeeService=o,this.payrollItemsService=n,this.localize=t,this.router=l,this.activatedRoute=a,this.dialog=c,this.searchQuery="",this.payrollItems=[],this.loading=!1}ngOnInit(){this.getListPayrollItems()}getListPayrollItems(o=1){this.loading=!0,this.payrollItemsService.getAllPayrolls().subscribe({next:n=>{this.payrollItems=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddItem(){const o=this.localize.translateRoute("/dashboard/employees/add-payroll-item");this.router.navigate([o])}deleteItem(o,n){this.dialog.open(b.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(l=>{l&&this.payrollItemsService.deletePayroll(o.toString()).subscribe({next:a=>{this.getListPayrollItems()},error:a=>{console.error("There was an error deleting the item!",a)}})})}viewItem(o){if(o){const n=this.localize.translateRoute("/dashboard/employees/show-payroll-item");this.router.navigate([n,o.id])}else console.error("No item to view")}onPageChange(o){this.getListPayrollItems(o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(h.M),e.Y36(L),e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(I.uw))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-payroll-item-list"]],standalone:!0,features:[e.jDz],decls:47,vars:11,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return t.navigateToAddItem()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0641\u064a \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.TgZ(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return t.searchQuery=a}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,vn,20,11,"tr",20),e.ALo(40,"filter"),e.YNc(41,gn,3,0,"tr",21),e.ALo(42,"filter"),e.qZA()()()(),e.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),e.NdJ("pageChange",function(a){return t.onPageChange(a)}),e.qZA()()()()()()()()),2&n&&(e.xp6(19),e.Q6J("ngModel",t.searchQuery),e.xp6(20),e.Q6J("ngForOf",e.xi3(40,5,t.payrollItems,t.searchQuery)),e.xp6(2),e.Q6J("ngIf",0===e.xi3(42,8,t.payrollItems,t.searchQuery).length&&!t.loading),e.xp6(5),e.Q6J("currentPage",t.currentPage)("totalPages",t.totalPages))},dependencies:[m.ez,m.sg,m.O5,s.Bz,s.rH,_.fQ,_.lO,E.Q,i.u5,i.Fj,i.JJ,i.On,J.u,y.L]})}return r})();function hn(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Zn(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function An(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.id," ")}}function bn(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function In(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function qn(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,bn,2,0,"div",19),e.YNc(2,In,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function xn(r,u){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function Tn(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Fn(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function Cn(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Tn,2,0,"div",19),e.YNc(2,Fn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.serverError)}}function Un(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function wn(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function Nn(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Un,2,0,"div",19),e.YNc(2,wn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.serverError)}}function En(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Jn(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function Qn(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,En,2,0,"div",19),e.YNc(2,Jn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.serverError)}}function Yn(r,u){1&r&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Rn(r,u){if(1&r&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function Sn(r,u){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Yn,2,0,"div",19),e.YNc(2,Rn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.serverError)}}function Ln(r,u){1&r&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.BQk())}function Mn(r,u){if(1&r){const o=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.updatePayrollItem())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.Q6J("disabled",!o.payrollItemForm.valid)}}const Pn=function(r){return[r]};let z=(()=>{class r{constructor(o,n,t,l,a,c,d,p){this.localize=o,this.router=n,this.activatedRoute=t,this.medicalInsuranceService=l,this._MessagesService=a,this.employeesService=c,this.payrollItemsService=d,this.dashboardService=p,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new i.cw({medical_insurance_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),card_number:new i.NI("",i.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.payrollItemId=n,this.isEditMode=!0,this.payrollItemsService.getPayrollById(n).subscribe(t=>{t&&t.data&&this.setFormValues(t.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:o=>{o&&o.data&&(this.payrollItems=o.data)},error:o=>{console.error(o)}})}setFormValues(o){this.payrollItemForm.patchValue({medical_insurance_id:o.id,employee_id:o.employee.id,start_date:o.start_date,end_date:o.end_date,card_number:o.card_number})}updatePayrollItem(){if(this.payrollItemForm.valid){const o={...this.payrollItemForm.value,_method:"PATCH"};this.payrollItemsService.updatePayroll(this.payrollItemId,o).subscribe({next:n=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update payroll item:",n)}})}else this.payrollItemForm.markAllAsTouched()}onSubmit(){if(this.payrollItemForm.valid){const o={...this.payrollItemForm.value};this.payrollItemsService.createPayroll(o).subscribe({next:n=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add payroll item. Please try again.",console.error("Failed to add payroll item:",n))}})}else this.payrollItemForm.markAllAsTouched()}handleValidationErrors(o){for(const n in o)if(o.hasOwnProperty(n)){const t=this.payrollItemForm.get(n);t&&t.setErrors({serverError:o[n]})}}navigateToPayrollItemsList(){const o=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(Q),e.Y36(A.K),e.Y36(h.M),e.Y36(L),e.Y36(q.K))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-payroll-item"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,hn,2,0,"h5",12),e.YNc(19,Zn,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,An,2,2,"option",18),e.qZA(),e.YNc(27,qn,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,xn,2,3,"option",18),e.qZA(),e.YNc(33,Cn,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Nn,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Qn,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Sn,3,2,"div",19),e.qZA(),e.YNc(49,Ln,5,0,"ng-container",28),e.YNc(50,Mn,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const l=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,Pn,e.lcZ(11,13,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",t.payrollItems),e.xp6(1),e.Q6J("ngIf",t.payrollItemForm.controls.medical_insurance_id.invalid&&(t.payrollItemForm.controls.medical_insurance_id.dirty||t.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.payrollItemForm.controls.employee_id.invalid&&(t.payrollItemForm.controls.employee_id.dirty||t.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.start_date.invalid&&(t.payrollItemForm.controls.start_date.dirty||t.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.end_date.invalid&&(t.payrollItemForm.controls.end_date.dirty||t.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.card_number.invalid&&(t.payrollItemForm.controls.card_number.dirty||t.payrollItemForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!t.isEditMode)("ngIfElse",l)}},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,N.Tx]})}return r})();function kn(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Dn(r,u){1&r&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function jn(r,u){if(1&r&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.id," ")}}function On(r,u){1&r&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function zn(r,u){if(1&r&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function Vn(r,u){if(1&r&&(e.TgZ(0,"div",29),e.YNc(1,On,2,0,"div",19),e.YNc(2,zn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.medical_insurance_id.errors?null:o.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function $n(r,u){if(1&r&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE(" ",o.first_name," ",o.last_name," ")}}function Bn(r,u){1&r&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Kn(r,u){if(1&r&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function Gn(r,u){if(1&r&&(e.TgZ(0,"div",29),e.YNc(1,Bn,2,0,"div",19),e.YNc(2,Kn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.employee_id.errors?null:o.payrollItemForm.controls.employee_id.errors.serverError)}}function Hn(r,u){1&r&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Xn(r,u){if(1&r&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function Wn(r,u){if(1&r&&(e.TgZ(0,"div",29),e.YNc(1,Hn,2,0,"div",19),e.YNc(2,Xn,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.start_date.errors?null:o.payrollItemForm.controls.start_date.errors.serverError)}}function eu(r,u){1&r&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ou(r,u){if(1&r&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function ru(r,u){if(1&r&&(e.TgZ(0,"div",29),e.YNc(1,eu,2,0,"div",19),e.YNc(2,ou,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.end_date.errors?null:o.payrollItemForm.controls.end_date.errors.serverError)}}function tu(r,u){1&r&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nu(r,u){if(1&r&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function uu(r,u){if(1&r&&(e.TgZ(0,"div",29),e.YNc(1,tu,2,0,"div",19),e.YNc(2,nu,2,1,"div",19),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.payrollItemForm.controls.card_number.errors?null:o.payrollItemForm.controls.card_number.errors.serverError)}}const iu=function(r){return[r]},lu=[{path:"",component:vo,children:[{path:"",component:K,data:{breadcrumbs:[{label:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",url:"/dashboard/employees"}]}},{path:"add-employee",component:P,data:{breadcrumbs:[{label:" \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"add-employee/:id",component:P,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"view-employee/:id",component:Fo,data:{breadcrumbs:[{label:" \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641",url:"/dashboard/employees/view-employee"}]}},{path:"leave-requests",component:No,data:{breadcrumbs:[{label:"\u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req/:id",component:D,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req",component:D,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"show-leave-req/:id",component:Cr,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"medical-list",component:Jr,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/medical-list"}]}},{path:"create-medical-record",component:j,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"create-medical-record/:id",component:j,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"view-medical-record/:id",component:Zt,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"social-insurances",component:xt,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances",component:O,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances/:id",component:O,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"show-insurances/:id",component:pn,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"payroll-items",component:yn,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item",component:z,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item/:id",component:z,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"show-payroll-item/:id",component:(()=>{class r{constructor(o,n,t,l,a,c,d,p){this.localize=o,this.router=n,this.activatedRoute=t,this.medicalInsuranceService=l,this._MessagesService=a,this.employeesService=c,this.payrollItemsService=d,this.dashboardService=p,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new i.cw({medical_insurance_id:new i.NI("",i.kI.required),employee_id:new i.NI("",i.kI.required),start_date:new i.NI("",i.kI.required),end_date:new i.NI("",i.kI.required),card_number:new i.NI("",i.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(o=>{const n=o.get("id");n&&(this.payrollItemId=n,this.isEditMode=!0,this.payrollItemsService.getPayrollById(n).subscribe(t=>{t&&t.data&&this.setFormValues(t.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:o=>{o&&o.data&&(this.employees=o.data)},error:o=>{console.error(o)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:o=>{o&&o.data&&(this.payrollItems=o.data)},error:o=>{console.error(o)}})}setFormValues(o){this.payrollItemForm.patchValue({medical_insurance_id:o.id,employee_id:o.employee.id,start_date:o.start_date,end_date:o.end_date,card_number:o.card_number})}navigateToPayrollItemsList(){const o=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([o])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.An),e.Y36(s.F0),e.Y36(s.gz),e.Y36(Q),e.Y36(A.K),e.Y36(h.M),e.Y36(L),e.Y36(q.K))};static#o=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-show-payroll"]],standalone:!0,features:[e.jDz],decls:49,vars:15,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,kn,2,0,"h5",12),e.YNc(19,Dn,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,jn,2,2,"option",18),e.qZA(),e.YNc(27,Vn,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,$n,2,3,"option",18),e.qZA(),e.YNc(33,Gn,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Wn,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,ru,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,uu,3,2,"div",19),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(13,iu,e.lcZ(11,11,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!t.isEditMode),e.xp6(1),e.Q6J("ngIf",t.isEditMode),e.xp6(1),e.Q6J("formGroup",t.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",t.payrollItems),e.xp6(1),e.Q6J("ngIf",t.payrollItemForm.controls.medical_insurance_id.invalid&&(t.payrollItemForm.controls.medical_insurance_id.dirty||t.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.payrollItemForm.controls.employee_id.invalid&&(t.payrollItemForm.controls.employee_id.dirty||t.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.start_date.invalid&&(t.payrollItemForm.controls.start_date.dirty||t.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.end_date.invalid&&(t.payrollItemForm.controls.end_date.dirty||t.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",t.payrollItemForm.controls.card_number.invalid&&(t.payrollItemForm.controls.card_number.dirty||t.payrollItemForm.controls.card_number.touched)))},dependencies:[m.ez,m.sg,m.O5,y.L,s.rH,_.fQ,_.lO,i.UX,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,x.lN,T.c,F.FA,C.XK,U.ot,w.Ps,N.Tx],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return r})(),data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}}]}]}}]);