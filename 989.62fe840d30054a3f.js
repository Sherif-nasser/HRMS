"use strict";(self.webpackChunkHRMS=self.webpackChunkHRMS||[]).push([[989],{2135:(N,x,s)=>{s.d(x,{u:()=>v});var u=s(5879);let v=(()=>{class t{transform(c,f){return c?f?(f=f.toLowerCase(),c.filter(r=>{const P=r.full_name?r.full_name.toLowerCase():"",Z=r.first_name?r.first_name.toLowerCase():"",D=r.employee&&r.employee.first_name?r.employee.first_name.toLowerCase():"",m=r.employee&&r.employee.last_name?r.employee.last_name.toLowerCase():"",A=r.last_name?r.last_name.toLowerCase():"",p=r.title?r.title.toLowerCase():"",h=r.name?r.name.toLowerCase():"",d=r.user&&r.user.name?r.user.name.toLowerCase():"",T=r.head?r.head.toLowerCase():"",C=r.description?r.description.toLowerCase():"";return P.includes(f)||A.includes(f)||h.includes(f)||d.includes(f)||T.includes(f)||C.includes(f)||Z.includes(f)||D.includes(f)||m.includes(f)||p.includes(f)})):c:[]}static#t=this.\u0275fac=function(f){return new(f||t)};static#e=this.\u0275pipe=u.Yjl({name:"filter",type:t,pure:!0,standalone:!0})}return t})()},4989:(N,x,s)=>{s.r(x),s.d(x,{default:()=>pt});var u=s(6814),v=s(846),t=s(5879);let _=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-recruitment-document"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[u.ez,v.lC]})}return i})();var c=s(4414),f=s(8733),r=s(6223);s(5592),s(4829);s(6232),s(8251),s(9940),s(9360);var R=s(6306),O=s(2096),F=s(9315),U=s(9862),L=s(553);let q=(()=>{class i{constructor(e){this.http=e,this.recDocsUrl=`${L.N.url}recruitment/document`,this.recDocsValidationsUrl=`${L.N.url}recruitment/document/validations`}getAllRecruitmentDocumentValidations(e){let n=new U.LE;return e&&Object.keys(e).forEach(o=>{n=n.append(o,e[o])}),this.http.get(this.recDocsUrl,{params:n})}updateRecruitmentDocumentValidations(e,n,o){let a=new U.LE;o&&Object.keys(o).forEach(b=>{a=a.append(b,o[b])});const l=new FormData;return Object.keys(n).forEach(b=>{l.append(b,n[b])}),this.http.post(`${this.recDocsValidationsUrl}/${e}`,n,{params:a})}addRecruitmentDocumentValidations(e,n){let o=new U.LE;n&&Object.keys(n).forEach(l=>{o=o.append(l,n[l])});const a=new FormData;return Object.keys(e).forEach(l=>{a.append(l,e[l])}),this.http.post(`${this.recDocsValidationsUrl}`,e,{params:o})}deleteRecruitmentDocValidation(e){return this.http.delete(`${this.recDocsValidationsUrl}/${e}`)}getRecruitmentDocsList(e){let n=new U.LE;return e&&Object.keys(e).forEach(o=>{n=n.append(o,e[o])}),this.http.get(this.recDocsUrl,{params:n})}updateRecruitmentDoc(e,n,o){let a=new U.LE;o&&Object.keys(o).forEach(b=>{a=a.append(b,o[b])});const l=new FormData;return Object.keys(n).forEach(b=>{l.append(b,n[b])}),this.http.post(`${this.recDocsUrl}/${e}`,l,{params:a})}addRecruitmentDoc(e,n){let o=new U.LE;n&&Object.keys(n).forEach(l=>{o=o.append(l,n[l])});const a=new FormData;return Object.keys(e).forEach(l=>{a.append(l,e[l])}),this.http.post(this.recDocsUrl,a,{params:o})}getRecruitmentDocById(e){return this.http.get(`${this.recDocsUrl}/${e}`)}deleteRecruitmentDoc(e){return this.http.delete(`${this.recDocsUrl}/${e}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(U.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var J=s(4286);function Q(i,g){1&i&&(t.TgZ(0,"h3"),t._uU(1,"\u0623\u0636\u0627\u0641\u0629 \u0648\u062b\u064a\u0642\u0629"),t.qZA())}function B(i,g){1&i&&(t.TgZ(0,"h3"),t._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0648\u062b\u064a\u0642\u0629"),t.qZA())}function S(i,g){1&i&&(t.TgZ(0,"div",28),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function Y(i,g){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.recruitmentDocsForm.controls.name.errors?null:e.recruitmentDocsForm.controls.name.errors.serverError[0]," ")}}function k(i,g){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,S,2,0,"div",18),t.YNc(2,Y,2,1,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.recruitmentDocsForm.controls.name.errors?null:e.recruitmentDocsForm.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.recruitmentDocsForm.controls.name.errors?null:e.recruitmentDocsForm.controls.name.errors.serverError)}}function z(i,g){1&i&&(t.TgZ(0,"div",28),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function j(i,g){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.recruitmentDocsForm.controls.description.errors?null:e.recruitmentDocsForm.controls.description.errors.serverError[0]," ")}}function K(i,g){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,z,2,0,"div",18),t.YNc(2,j,2,1,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.recruitmentDocsForm.controls.description.errors?null:e.recruitmentDocsForm.controls.description.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.recruitmentDocsForm.controls.description.errors?null:e.recruitmentDocsForm.controls.description.errors.serverError)}}function V(i,g){if(1&i&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&i){const e=g.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function $(i,g){1&i&&(t.TgZ(0,"div"),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function W(i,g){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,$,2,0,"div",12),t.qZA()),2&i){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("dataType"))||null==n.errors?null:n.errors.required)}}function H(i,g){1&i&&(t.TgZ(0,"div"),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function G(i,g){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,H,2,0,"div",12),t.qZA()),2&i){const e=t.oxw().$implicit;let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.get("inputName"))||null==n.errors?null:n.errors.required)}}function X(i,g){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"div",11)(3,"div",31)(4,"label",32),t._uU(5,"\u0646\u0648\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA(),t.TgZ(6,"select",33),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onInputChange())}),t.YNc(7,V,2,2,"option",34),t.qZA(),t.YNc(8,W,2,1,"div",18),t.qZA(),t.TgZ(9,"div",31)(10,"label",35),t._uU(11,"\u0627\u0633\u0645 \u0627\u0644\u0645\u062f\u062e\u0644"),t.qZA(),t.TgZ(12,"input",36),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onInputChange())}),t.qZA(),t.YNc(13,G,2,1,"div",18),t.qZA(),t.TgZ(14,"div",31)(15,"label",37),t._uU(16,"\u0647\u0644 \u0647\u0648 \u0645\u0637\u0644\u0648\u0628\u061f"),t.qZA(),t.TgZ(17,"input",38),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onInputChange())}),t.qZA()(),t.TgZ(18,"div",31)(19,"label",39),t._uU(20,"\u0647\u0644 \u0647\u0648 \u0641\u0631\u064a\u062f\u061f"),t.qZA(),t.TgZ(21,"input",40),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onInputChange())}),t.qZA()(),t.TgZ(22,"button",41),t.NdJ("click",function(){const o=t.CHM(e),a=o.index,l=o.$implicit,b=t.oxw();return t.KtG(b.removeValidationRule(a,l.value.id))}),t._uU(23," \u062d\u0630\u0641 "),t.qZA()()()()}if(2&i){const e=g.$implicit,n=g.index,o=t.oxw();let a,l;t.Q6J("formGroupName",n),t.xp6(7),t.Q6J("ngForOf",o.dataTypeOptions),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("dataType"))?null:a.invalid)&&((null==(a=e.get("dataType"))?null:a.dirty)||(null==(a=e.get("dataType"))?null:a.touched))),t.xp6(5),t.Q6J("ngIf",(null==(l=e.get("inputName"))?null:l.invalid)&&((null==(l=e.get("inputName"))?null:l.dirty)||(null==(l=e.get("inputName"))?null:l.touched)))}}function tt(i,g){if(1&i&&(t.ynx(0),t.TgZ(1,"div",24)(2,"button",43),t._UZ(3,"i",44),t._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0648\u062b\u064a\u0642\u0629 "),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.recruitmentDocsForm.valid)}}function et(i,g){if(1&i){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateDocument())}),t._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062b\u064a\u0642\u0629 "),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.recruitmentDocsForm.valid)}}const nt=function(i){return[i]};let w=(()=>{class i{constructor(e,n,o,a,l,b){this.activatedRoute=e,this.recDocService=n,this.router=o,this.localize=a,this._MessagesService=l,this.fb=b,this.isEditMode=!1,this.documentId="",this.dataTypeOptions=["string","url","file","numeric"],this.recruitmentDocsForm=new r.cw({name:new r.NI("",r.kI.required),description:new r.NI("",r.kI.required),validationRuls:this.fb.array([])})}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const n=e.get("id");n&&(this.isEditMode=!0,this.documentId=n,this.recDocService.getRecruitmentDocsList(n).subscribe(o=>{o&&o.data&&(console.log(o.data[0]),this.setFormValues(o.data[0]))}))})}get validationRuls(){return this.recruitmentDocsForm.get("validationRuls")}setFormValues(e){this.recruitmentDocsForm.controls.name.setValue(e.name),this.recruitmentDocsForm.controls.description.setValue(e.description),e.validationRuls&&e.validationRuls.length>0&&this.setValidationRuls(e.validationRuls)}setValidationRuls(e){const n=this.fb.array([]);e.forEach(o=>{n.push(this.fb.group({dataType:[o.dataType,r.kI.required],id:[o.id],inputName:[o.inputName,r.kI.required],isRequired:[o.isRequired],isUnique:[o.isUnique]}))}),this.recruitmentDocsForm.setControl("validationRuls",n),this.recruitmentDocsForm.updateValueAndValidity()}removeValidationRule(e,n){n?this.recDocService.deleteRecruitmentDocValidation(n).subscribe({next:o=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641",3e3),this.validationRuls.removeAt(e)},error:o=>{console.log("Failed to delete validation rule:",o)}}):this.validationRuls.removeAt(e)}addValidationRule(){this.validationRuls.push(this.fb.group({dataType:["",r.kI.required],inputName:["",r.kI.required],isRequired:[!1],isUnique:[!1]}))}onInputChange(){console.log(this.validationRuls.value)}updateDocument(){this.recruitmentDocsForm.valid&&this.recDocService.updateRecruitmentDoc(this.documentId,{name:this.recruitmentDocsForm.controls.name.value||"",description:this.recruitmentDocsForm.controls.description.value||"",_method:"PATCH"}).subscribe({next:n=>{if(this.validationRuls&&this.validationRuls.length>0){const o=this.validationRuls.controls.map(a=>a.value.id?this.recDocService.updateRecruitmentDocumentValidations(a.value.id,{dataType:a.value.dataType||"",recruitment_document_id:this.documentId,inputName:a.value.inputName||"",isRequired:a.value.isRequired||!1,isUnique:a.value.isUnique||!1,_method:"PATCH"}):this.recDocService.addRecruitmentDocumentValidations({dataType:a.value.dataType||"",recruitment_document_id:this.documentId,inputName:a.value.inputName||"",isRequired:a.value.isRequired||!1,isUnique:a.value.isUnique||!1}).pipe((0,R.K)(y=>(console.log("Failed to add validation rule:",y),(0,O.of)(null)))));(0,F.D)(o).subscribe({next:()=>{this.navigateToRecruitmentDocsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{console.log("Failed to update validation rules:",a)}})}else this.navigateToRecruitmentDocsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{console.log("Failed to add faq:",n)}})}navigateToRecruitmentDocsList(){const e=this.localize.translateRoute("/dashboard/recruitmentDocs");this.router.navigate([e])}onSubmit(){this.recruitmentDocsForm.valid&&this.recDocService.addRecruitmentDoc({name:this.recruitmentDocsForm.controls.name.value||"",description:this.recruitmentDocsForm.controls.description.value||""}).subscribe({next:n=>{if(this.validationRuls&&this.validationRuls.length>0){const o=this.validationRuls.controls.map(a=>this.recDocService.addRecruitmentDocumentValidations({dataType:a.value.dataType||"",recruitment_document_id:n.data.id,inputName:a.value.inputName||"",isRequired:a.value.isRequired||!1,isUnique:a.value.isUnique||!1}).pipe((0,R.K)(b=>(console.log("Failed to add validation rule:",b),(0,O.of)(null)))));(0,F.D)(o).subscribe({next:()=>{this.navigateToRecruitmentDocsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{console.log("Failed to update validation rules:",a)}})}else this.navigateToRecruitmentDocsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{console.log("Failed to add currency:",n)}})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.gz),t.Y36(q),t.Y36(v.F0),t.Y36(f.An),t.Y36(J.K),t.Y36(r.qu))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-recruitment-document"]],standalone:!0,features:[t.jDz],decls:42,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","name","name","id","name",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","description",1,"form-label"],["type","text","formControlName","description","name","description","id","description","rows","1",1,"form-control","form-control-lg"],[1,"mt-2"],["formArrayName","validationRuls",1,"mt-2"],["class","col-md-12 col-12 mb-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group","col-12","my-3"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],[1,"col-md-12","col-12","mb-3",3,"formGroupName"],[1,"card","mb-3"],[1,"form-group","mb-3"],["for","dataType",1,"form-label"],["formControlName","dataType",1,"form-control","form-control-lg",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","inputName",1,"form-label"],["type","text","formControlName","inputName",1,"form-control","form-control-lg",3,"change"],["for","isRequired",1,"form-label"],["type","checkbox","formControlName","isRequired",2,"width","2rem",3,"change"],["for","isUnique",1,"form-label"],["type","checkbox","formControlName","isUnique",2,"width","2rem",3,"change"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"],[1,"btn","px-5","py-3",3,"disabled"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA(),t.TgZ(9,"div",5)(10,"a",6),t.ALo(11,"localize"),t._uU(12,"\u0631\u062c\u0648\u0639 "),t._UZ(13,"i",7),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),t.YNc(18,Q,2,0,"h3",12),t.YNc(19,B,2,0,"h3",12),t.TgZ(20,"form",13),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(21,"div",14)(22,"div",15)(23,"label",16),t._uU(24,"\u0627\u0633\u0645 \u0627\u0644\u0648\u062b\u064a\u0642\u0629"),t.qZA(),t._UZ(25,"input",17),t.YNc(26,k,3,2,"div",18),t.qZA(),t.TgZ(27,"div",15)(28,"label",19),t._uU(29,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t._UZ(30,"textarea",20),t.YNc(31,K,3,2,"div",18),t.qZA(),t.TgZ(32,"h3",21),t._uU(33,"\u0642\u0648\u0627\u0639\u062f \u062a\u062d\u0642\u0642 \u0627\u0644\u0648\u062b\u064a\u0641\u0629"),t.qZA(),t.TgZ(34,"div",22),t.YNc(35,X,24,4,"div",23),t.qZA(),t.TgZ(36,"div",24)(37,"button",25),t.NdJ("click",function(){return o.addValidationRule()}),t._uU(38," \u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0639\u062f\u0629 \u062a\u062d\u0642\u0642 "),t.qZA()(),t.YNc(39,tt,5,1,"ng-container",26),t.YNc(40,et,3,1,"ng-template",null,27,t.W1O),t.qZA()()()()()()()),2&n){const a=t.MAs(41);t.xp6(10),t.Q6J("routerLink",t.VKq(11,nt,t.lcZ(11,9,"/dashboard/recruitmentDocs"))),t.xp6(8),t.Q6J("ngIf",!o.isEditMode),t.xp6(1),t.Q6J("ngIf",o.isEditMode),t.xp6(1),t.Q6J("formGroup",o.recruitmentDocsForm),t.xp6(6),t.Q6J("ngIf",o.recruitmentDocsForm.controls.name.invalid&&(o.recruitmentDocsForm.controls.name.dirty||o.recruitmentDocsForm.controls.name.touched)),t.xp6(5),t.Q6J("ngIf",o.recruitmentDocsForm.controls.description.invalid&&(o.recruitmentDocsForm.controls.description.dirty||o.recruitmentDocsForm.controls.description.touched)),t.xp6(4),t.Q6J("ngForOf",o.validationRuls.controls),t.xp6(4),t.Q6J("ngIf",!o.isEditMode)("ngIfElse",a)}},dependencies:[u.ez,u.sg,u.O5,f.fQ,f.lO,c.L,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.sg,r.u,r.x0,r.CE,v.Bz,v.rH],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return i})();function ot(i,g){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),t._uU(4,"\u0627\u0633\u0645 \u0627\u0644\u0648\u062b\u064a\u0642\u0629"),t.qZA(),t._UZ(5,"input",16),t.qZA(),t.TgZ(6,"div",14)(7,"label",17),t._uU(8,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t._UZ(9,"textarea",18),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.s9C("value",e.document.name),t.xp6(4),t.s9C("value",e.document.description)}}function it(i,g){1&i&&(t.TgZ(0,"div",12)(1,"h4",19),t._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const ut=function(i){return[i]};let rt=(()=>{class i{constructor(e,n){this.activatedRoute=e,this.recDocsService=n,this.documentId=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const n=e.get("id");n&&(this.documentId=n,this.recDocsService.getRecruitmentDocById(n).subscribe(o=>{o&&o.data&&(this.document=o.data)}))})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v.gz),t.Y36(q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-recruitment-document"]],standalone:!0,features:[t.jDz],decls:19,vars:7,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","readonly","",1,"form-control","form-control-lg",3,"value"],["for","code",1,"form-label"],["type","text","readonly","","rows","1",1,"form-control","form-control-lg",3,"value"],[1,"text-center"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0627\u0644\u062f\u0648\u0644"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0644"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA(),t.TgZ(9,"div",5)(10,"a",6),t.ALo(11,"localize"),t._uU(12,"\u0631\u062c\u0648\u0639 "),t._UZ(13,"i",7),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10),t.YNc(17,ot,10,2,"div",11),t.YNc(18,it,3,0,"div",11),t.qZA()()()()),2&n&&(t.xp6(10),t.Q6J("routerLink",t.VKq(5,ut,t.lcZ(11,3,"/dashboard/recruitmentDocs"))),t.xp6(7),t.Q6J("ngIf",o.document),t.xp6(1),t.Q6J("ngIf",!o.document))},dependencies:[u.ez,u.O5,f.fQ,f.lO,c.L,v.Bz,v.rH]})}return i})();var at=s(2135),ct=s(1818),st=s(8034),lt=s(7700);const I=function(i,g){return[i,g]};function mt(i,g){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",25)(8,"a",26),t.ALo(9,"localize"),t._UZ(10,"i",27),t._uU(11," \u0639\u0631\u0636"),t.qZA(),t.TgZ(12,"a",28),t.ALo(13,"localize"),t._UZ(14,"i",29),t._uU(15," \u062a\u0639\u062f\u064a\u0644 "),t.qZA(),t.TgZ(16,"button",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteDocument(a.id))}),t._UZ(17,"i",31),t._uU(18," \u062d\u0630\u0641 "),t.qZA()()()}if(2&i){const e=g.$implicit,n=g.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("routerLink",t.WLB(9,I,t.lcZ(9,5,"/dashboard/recruitmentDocs/view-document"),e.id)),t.xp6(4),t.Q6J("routerLink",t.WLB(12,I,t.lcZ(13,7,"/dashboard/recruitmentDocs/add-document"),e.id))}}function dt(i,g){1&i&&(t.TgZ(0,"tr")(1,"td",32),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const pt=[{path:"",component:_,children:[{path:"",component:(()=>{class i{constructor(e,n){this.recDocService=e,this.dialog=n,this.documents=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getListRecruitmentDocs()}onPageChange(e){this.getListRecruitmentDocs(e)}getListRecruitmentDocs(e=1){this.loading=!0,this.recDocService.getRecruitmentDocsList({page:e}).subscribe({next:n=>{this.documents=n.data,console.log(n.data),this.currentPage=n.pagination.current_page,this.totalPages=n.pagination.last_page,this.loading=!1},error:n=>{this.loading=!1,console.log(n)}})}deleteDocument(e){this.dialog.open(st.$,{width:"500px",data:{title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 ${name}\u061f`}}).afterClosed().subscribe(o=>{o&&this.recDocService.deleteRecruitmentDoc(e).subscribe({next:a=>{this.getListRecruitmentDocs()},error:a=>{console.log("there was an error deleting currency:",a)}})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(q),t.Y36(lt.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-recruitment-documents-list"]],standalone:!0,features:[t.jDz],decls:47,vars:14,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"routerLink"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get",3,"routerLink"],[1,"fa-solid","fa-eye"],[1,"btn","edit",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","4",1,"text-center"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA()(),t.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),t.ALo(16,"localize"),t._UZ(17,"i",11),t._uU(18," \u0625\u0636\u0627\u0641\u0629 \u0648\u062b\u064a\u0642 \u062c\u062f\u064a\u062f "),t.qZA()(),t.TgZ(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(l){return o.searchQuery=l}),t.qZA()(),t.TgZ(21,"div",14)(22,"button",15),t._UZ(23,"i",16),t._uU(24," \u062a\u0635\u0646\u064a\u0641 "),t.qZA()()()(),t.TgZ(25,"div",17)(26,"div",18)(27,"table",19)(28,"thead")(29,"tr")(30,"th"),t._uU(31,"\u062a\u0631\u0642\u064a\u0645"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"\u0627\u0644\u0623\u0633\u0645"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"\u0627\u062c\u0631\u0627\u0621\u0627\u062a"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,mt,19,15,"tr",20),t.ALo(40,"filter"),t.YNc(41,dt,3,0,"tr",21),t.ALo(42,"filter"),t.qZA()()()(),t.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),t.NdJ("pageChange",function(l){return o.onPageChange(l)}),t.qZA()()()()()()()()),2&n&&(t.xp6(15),t.Q6J("routerLink",t.lcZ(16,6,"/dashboard/recruitmentDocs/add-document")),t.xp6(5),t.Q6J("ngModel",o.searchQuery),t.xp6(19),t.Q6J("ngForOf",t.xi3(40,8,o.documents,o.searchQuery)),t.xp6(2),t.Q6J("ngIf",0===t.xi3(42,11,o.documents,o.searchQuery).length&&!o.loading),t.xp6(5),t.Q6J("currentPage",o.currentPage)("totalPages",o.totalPages))},dependencies:[u.ez,u.sg,u.O5,at.u,c.L,v.Bz,v.rH,f.fQ,f.lO,r.u5,r.Fj,r.JJ,r.On,ct.Q]})}return i})(),data:{breadcrumbs:[{label:"\u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u062a\u0648\u0638\u064a\u0641",url:"/dashboard/recruitmentDocs"}]}},{path:":slug",component:w,data:{breadcrumbs:[{label:"\u0625\u0636\u0627\u0641\u0629 \u0648\u062b\u064a\u0642\u0629",url:"/dashboard/recruitmentDocs/add-document"}]}},{path:"add-document/:id",component:w,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062b\u064a\u0642\u0629",url:"/dashboard/recruitmentDocs/add-document"}]}},{path:"view-document/:id",component:rt,data:{breadcrumbs:[{label:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062b\u064a\u0642\u0629",url:"/dashboard/recruitmentDocs/view-document"}]}}]}]},8034:(N,x,s)=>{s.d(x,{$:()=>f});var u=s(6814),v=s(7700),t=s(2296),_=s(5879),c=s(4286);let f=(()=>{class r{constructor(Z,D,m){this.dialogRef=Z,this.data=D,this._MessagesService=m}onConfirmClick(){this.dialogRef.close(!0),this._MessagesService.showSuccessMessage("Done",3e3)}onCancelClick(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(D){return new(D||r)(_.Y36(v.so),_.Y36(v.WI),_.Y36(c.K))};static#e=this.\u0275cmp=_.Xpm({type:r,selectors:[["app-confirm-dialog"]],standalone:!0,features:[_.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(D,m){1&D&&(_.TgZ(0,"div",0)(1,"h2",1),_._uU(2),_.qZA(),_.TgZ(3,"mat-dialog-content"),_._uU(4),_.qZA(),_.TgZ(5,"mat-dialog-actions",2)(6,"button",3),_.NdJ("click",function(){return m.onCancelClick()}),_._uU(7,"\u0627\u0644\u063a\u0627\u0621"),_.qZA(),_.TgZ(8,"button",4),_.NdJ("click",function(){return m.onConfirmClick()}),_._uU(9," \u062a\u0627\u0643\u064a\u062f "),_.qZA()()()),2&D&&(_.xp6(2),_.Oqu(m.data.title),_.xp6(2),_.Oqu(m.data.message))},dependencies:[u.ez,v.Is,v.uh,v.xY,v.H8,t.ot,t.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return r})()},4414:(N,x,s)=>{s.d(x,{L:()=>D});var u=s(6814),v=s(846),t=s(8733),_=s(2181),c=s(5879);function f(m,A){1&m&&(c.TgZ(0,"li",6),c._uU(1,"/"),c.qZA())}function r(m,A){if(1&m&&(c.ynx(0),c.TgZ(1,"li",4)(2,"a",5),c.ALo(3,"localize"),c._uU(4),c.qZA()(),c.YNc(5,f,2,0,"li",3),c.BQk()),2&m){const p=A.$implicit,h=A.index,d=c.oxw().$implicit;c.xp6(2),c.Q6J("routerLink",c.lcZ(3,3,p.url)),c.xp6(2),c.Oqu(p.label),c.xp6(1),c.Q6J("ngIf",h<d.segments.length-1)}}function P(m,A){1&m&&(c.TgZ(0,"li",6),c._uU(1,"/"),c.qZA())}function Z(m,A){if(1&m&&(c.ynx(0),c.YNc(1,r,6,5,"ng-container",2),c.YNc(2,P,2,0,"li",3),c.BQk()),2&m){const p=A.$implicit,h=A.index,d=c.oxw();c.xp6(1),c.Q6J("ngForOf",p.segments),c.xp6(1),c.Q6J("ngIf",h<d.breadcrumbs.length-1)}}let D=(()=>{class m{constructor(p,h){this.router=p,this.activatedRoute=h,this.breadcrumbs=[]}ngOnInit(){this.routerSubscription=this.router.events.pipe((0,_.h)(p=>p instanceof v.m2)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}createBreadcrumbs(p,h="",d=[]){let T=[],C=p;for(;C.firstChild;){C=C.firstChild;const M=C.snapshot.url.map(O=>O.path).join("/");""!==M&&(h+=`/${M}`);const R=C.snapshot.data.breadcrumbs;if(R&&R!=T&&Array.isArray(R)&&""!==M){T=R;const O=R.map(F=>({label:F.label,url:F.url||h}));d.push({segments:O})}}return d}ngOnDestroy(){}static#t=this.\u0275fac=function(h){return new(h||m)(c.Y36(v.F0),c.Y36(v.gz))};static#e=this.\u0275cmp=c.Xpm({type:m,selectors:[["app-breadcrumb"]],standalone:!0,features:[c.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"separator"]],template:function(h,d){1&h&&(c.TgZ(0,"nav",0)(1,"ol",1),c.YNc(2,Z,3,2,"ng-container",2),c.qZA()()),2&h&&(c.xp6(2),c.Q6J("ngForOf",d.breadcrumbs))},dependencies:[u.ez,u.sg,u.O5,v.Bz,v.rH,t.fQ,t.lO],styles:['.ec-breadcrumb[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:50px;background-color:#f7f7f7;border-top:1px solid #eeeeee;border-bottom:1px solid #eeeeee}.ec-breadcrumb[_ngcontent-%COMP%]   .ec-breadcrumb-title[_ngcontent-%COMP%]{text-decoration:none;color:#444;display:block;font-size:15px;font-family:Montserrat;line-height:22px;font-weight:700;margin:0 auto;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]{text-align:right}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:300;letter-spacing:.02rem;line-height:1.2;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#444}.ec-breadcrumb-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#3474d4}.ec-breadcrumb-list[_ngcontent-%COMP%]   .ec-breadcrumb-item.active[_ngcontent-%COMP%]:before{color:#3474d4}.ec-breadcrumb-item[_ngcontent-%COMP%]{display:flex}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]{padding-left:7px}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:7px;color:#444;content:"\\f101";font-family:EcIcons;font-size:15px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.separator[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-one)}']})}return m})()},1818:(N,x,s)=>{s.d(x,{Q:()=>D});var u=s(5879),v=s(6223),t=s(6814);function _(m,A){if(1&m){const p=u.EpF();u.TgZ(0,"li",2)(1,"a",8),u.NdJ("click",function(){u.CHM(p);const d=u.oxw();return u.KtG(d.navigateTo(1))}),u._uU(2,"1"),u.qZA()()}}function c(m,A){1&m&&(u.TgZ(0,"li",2)(1,"a",9),u._uU(2,"..."),u.qZA()())}function f(m,A){if(1&m){const p=u.EpF();u.TgZ(0,"li",2)(1,"a",8),u.NdJ("click",function(){const T=u.CHM(p).$implicit,C=u.oxw();return u.KtG(C.navigateTo(T))}),u._uU(2),u.qZA()()}if(2&m){const p=A.$implicit,h=u.oxw();u.ekj("active",h.currentPage===p),u.xp6(2),u.Oqu(p)}}function r(m,A){1&m&&(u.TgZ(0,"li",2)(1,"a",9),u._uU(2,"..."),u.qZA()())}function P(m,A){if(1&m){const p=u.EpF();u.TgZ(0,"li",2)(1,"a",8),u.NdJ("click",function(){u.CHM(p);const d=u.oxw();return u.KtG(d.navigateTo(d.totalPages))}),u._uU(2),u.qZA()()}if(2&m){const p=u.oxw();u.xp6(2),u.Oqu(p.totalPages)}}const Z={provide:v.JU,useExisting:(0,u.Gpc)(()=>D),multi:!0};let D=(()=>{class m{constructor(){this.pageChange=new u.vpe}navigateTo(p){this.pageChange.emit(p),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}calculatePages(){const p=[];if(this.totalPages<=5)for(let d=1;d<=this.totalPages;d++)p.push(d);else{let d,T;this.currentPage<=Math.floor(2.5)?(d=1,T=5):this.currentPage+Math.floor(2.5)>=this.totalPages?(d=this.totalPages-5+1,T=this.totalPages):(d=this.currentPage-Math.floor(2.5),T=this.currentPage+Math.floor(2.5));for(let C=d;C<=T;C++)p.push(C)}return p}static#t=this.\u0275fac=function(h){return new(h||m)};static#e=this.\u0275cmp=u.Xpm({type:m,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[u._Bn([Z]),u.jDz],decls:15,vars:9,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",4,"ngIf"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(h,d){1&h&&(u.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),u.NdJ("click",function(){return d.navigateTo(d.currentPage-1)}),u.TgZ(4,"span",4),u._uU(5,"\xab"),u.qZA()()(),u.YNc(6,_,3,0,"li",5),u.YNc(7,c,3,0,"li",5),u.YNc(8,f,3,3,"li",6),u.YNc(9,r,3,0,"li",5),u.YNc(10,P,3,1,"li",5),u.TgZ(11,"li",2)(12,"a",7),u.NdJ("click",function(){return d.navigateTo(d.currentPage+1)}),u.TgZ(13,"span",4),u._uU(14,"\xbb"),u.qZA()()()()()),2&h&&(u.xp6(2),u.ekj("disabled",1===d.currentPage),u.xp6(4),u.Q6J("ngIf",d.currentPage>3),u.xp6(1),u.Q6J("ngIf",d.currentPage>4),u.xp6(1),u.Q6J("ngForOf",d.calculatePages()),u.xp6(1),u.Q6J("ngIf",d.currentPage<d.totalPages-3),u.xp6(1),u.Q6J("ngIf",d.currentPage<d.totalPages-2),u.xp6(1),u.ekj("disabled",d.currentPage===d.totalPages))},dependencies:[t.ez,t.sg,t.O5],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return m})()}}]);